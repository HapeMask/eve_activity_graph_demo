"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Array.prototype.indexOf||(Array.prototype.indexOf=function(d){if(null==this)throw new TypeError;var f=Object(this),e=f.length>>>0;if(0===e)return-1;var g=0;0<arguments.length&&(g=Number(arguments[1]),g!=g?g=0:0!=g&&Infinity!=g&&-Infinity!=g&&(g=(0<g||-1)*Math.floor(Math.abs(g))));if(g>=e)return-1;for(g=0<=g?g:Math.max(e-Math.abs(g),0);g<e;g++)if(g in f&&f[g]===d)return g;return-1});
var charJSPersonalDefaultOptions={},charJSPersonalDefaultOptionsLine={},charJSPersonalDefaultOptionsRadar={},charJSPersonalDefaultOptionsPolarArea={},charJSPersonalDefaultOptionsPie={},charJSPersonalDefaultOptionsDoughnut={},charJSPersonalDefaultOptionsBar={},charJSPersonalDefaultOptionsStackedBar={},charJSPersonalDefaultOptionsHorizontalBar={},charJSPersonalDefaultOptionsHorizontalStackedBar={};
function roundToWithThousands(d,f,e){f=1*unFormat(d,f);"number"==typeof f&&"none"!=e&&(0>=e?(e=-e,f=+(Math.round(f+"e+"+e)+"e-"+e)):(e="1e+"+e,f=+Math.round(f/e)*e));return f=fmtChartJS(d,f,"none")}function unFormat(d,f){if("."==d.decimalSeparator&&""==d.thousandSeparator||"string"!=typeof f)return f;var e=""+f;if(""!=d.thousandSeparator)for(;0<=e.indexOf(d.thousandSeparator);)e=""+e.replace(d.thousandSeparator,"");"."!=d.decimalSeparator&&(e=""+e.replace(d.decimalSeparator,"."));return 1*e}
var cachebis={};function fmtChartJSPerso(d,f,e){switch(e){case "SampleJS_Format":return_value="number"==typeof f?"My Format : "+f.toString()+" $":f+"XX";break;case "Change_Month":return_value="string"==typeof f?f.toString()+" 2014":f.toString()+"YY";break;default:return_value=f}return return_value}
function fmtChartJS(d,f,e){if("notformatted"==e)e=f;else if("none"==e&&"number"==typeof f)if("none"!=d.roundNumber&&(0>=d.roundNumber?(e=-d.roundNumber,f=+(Math.round(f+"e+"+e)+"e-"+e)):(e=d.roundNumber,e="1e+"+e,f=+Math.round(f/e)*e)),"."!=d.decimalSeparator||""!=d.thousandSeparator){if(e=f.toString().replace(/\./g,d.decimalSeparator),""!=d.thousandSeparator){f="";var g=e.indexOf(d.decimalSeparator);0<=g&&(f=e.substring(g+1,e.length),f=f.split("").reverse().join(""),e=e.substring(0,g));e=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,
d.thousandSeparator);f=f.split("").reverse().join("");""!=f&&(e=e+d.decimalSeparator+f)}}else e=f;else e="none"!=e&&"notformatted"!=e?fmtChartJSPerso(d,f,e):f;return e}function addParameters2Function(d,f,e){dif=!1;"Dif"==f.substr(-3)&&(f=f.substr(0,f.length-3),dif=!0);if("function"==typeof eval(f))return e=eval(e+"."+f),dif?d.v3-window[f](e):window[f](e)}function isNumber(d){return!isNaN(parseFloat(d))&&isFinite(d)}
function tmplbis(d,f){for(var e=RegExp("<%=((?:(?:.*?)\\W)??)((?:mean|varianz|stddev|cv|median)(?:Dif)?)\\(([0-9]*?)\\)(.*?)%>","g");e.test(d);)d=d.replace(e,function(d,e,J,M,L){d=M?M:2;J=addParameters2Function(f,J,"mathFunctions");return isNumber(J)?"<%="+e+""+Math.round(Math.pow(10,d)*J)/Math.pow(10,d)+""+L+"%>":"<%= %>"});e=/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(d)?cachebis[d]=cachebis[d]||tmplbis(document.getElementById(d).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+
d.replace(/[\r\n]/g,"\\n").replace(/[\t]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return f?e(f):e}CanvasRenderingContext2D.prototype.fillTextMultiLine=function(d,f,e,g,H){d=(""+d).split("\n");"middle"==g?e-=(d.length-1)/2*H:"bottom"==g&&(e-=(d.length-1)*H);for(g=0;g<d.length;g++)this.fillText(d[g],f,e),e+=H};
CanvasRenderingContext2D.prototype.measureTextMultiLine=function(d,f){for(var e=0,g,H=(""+d).split("\n"),J=H.length*f,M=0;M<H.length;M++)g=this.measureText(H[M]).width,g>e&&(e=g);return{textWidth:e,textHeight:J}};cursorDivCreated=!1;function createCursorDiv(){if(0==cursorDivCreated){var d=document.createElement("divCursor");d.id="divCursor";d.style.position="absolute";document.body.appendChild(d);cursorDivCreated=!0}}initChartJsResize=!1;var jsGraphResize=[];
function addResponsiveChart(d,f,e,g){initChartResize();var H=resizeGraph(f,g);"undefined"!=typeof f.prevWidth&&(resizeCtx(f,H.newWidth,H.newHeight),f.prevWidth=H.newWidth);f.prevWidth=H.newWidth;f.prevHeight=H.newHeight;jsGraphResize[jsGraphResize.length]=[d,f.tpchart,f,e,g]}function initChartResize(){0==initChartJsResize&&window.addEventListener("resize",chartJsResize)}function getMaximumWidth(d){return d.parentNode.clientWidth}function getMaximumHeight(d){return d.parentNode.clientHeight}
function resizeCtx(d,f,e){window.devicePixelRatio?(d.canvas.style.width=f/window.devicePixelRatio+"px",d.canvas.style.height=e/window.devicePixelRatio+"px",d.canvas.height=e/window.devicePixelRatio*window.devicePixelRatio,d.canvas.width=f/window.devicePixelRatio*window.devicePixelRatio,d.scale(window.devicePixelRatio,window.devicePixelRatio)):(d.canvas.height=e,d.canvas.width=f)}
function resizeGraph(d,f){"undefined"==typeof f.maintainAspectRatio&&(f.maintainAspectRatio=!0);var e=d.canvas;"undefined"==typeof d.aspectRatio&&(d.aspectRatio=e.width/e.height);var g=getMaximumWidth(e),e=f.maintainAspectRatio?g/d.aspectRatio:getMaximumHeight(e);return{newWidth:parseInt(g),newHeight:parseInt(e)}}
function chartJsResize(){for(var d=0;d<jsGraphResize.length;d++)"undefined"!=typeof jsGraphResize[d][2].firstPass&&5==jsGraphResize[d][2].firstPass&&(jsGraphResize[d][2].firstPass=6),subUpdateChart(jsGraphResize[d][2],jsGraphResize[d][3],jsGraphResize[d][4])}function testRedraw(d,f,e){if(2==d.firstPass||4==d.firstPass||9==d.firstPass)return d.firstPass=6,subUpdateChart(d,f,e),!0;d.firstPass=5;return!1}
function updateChart(d,f,e,g,H){5==d.firstPass&&(d.runanimationcompletefunction=H,d.firstPass=g?0:7,subUpdateChart(d,f,e))}
function subUpdateChart(d,f,e){if(dynamicFunction(f,e,d))if("undefined"==typeof d.firstPass){d.firstPass=1;var g=resizeGraph(d,e);e.responsive?(resizeCtx(d,g.newWidth,g.newHeight),d.prevWidth=g.newWidth,d.prevHeight=g.newHeight):(d.prevWidth=0,d.prevHeight=0);d.runanimationcompletefunction=!0;redrawGraph(d,f,e)}else 0==d.firstPass?(d.firstPass=1,g=resizeGraph(d,e),e.responsive?(resizeCtx(d,g.newWidth,g.newHeight),d.prevWidth=g.newWidth,d.prevHeight=g.newHeight):(d.prevWidth=0,d.prevHeight=0),redrawGraph(d,
f,e)):1==d.firstPass||2==d.firstPass?d.firstPass=2:3==d.firstPass||4==d.firstPass?d.firstPass=4:5==d.firstPass?(d.firstPass=1,redrawGraph(d,f,e)):6==d.firstPass?(g=resizeGraph(d,e),g.newWidth!=d.prevWidth||g.newHeight!=d.prevHeight?(d.firstPass=3,d.clearRect(0,0,d.canvas.width,d.canvas.height),e.responsive?(resizeCtx(d,g.newWidth,g.newHeight),d.prevWidth=g.newWidth,d.prevHeight=g.newHeight):(d.prevWidth=0,d.prevHeight=0),redrawGraph(d,f,e)):d.firstPass=5):7==d.firstPass&&(g=resizeGraph(d,e),d.firstPass=
3,d.clearRect(0,0,d.canvas.width,d.canvas.height),e.responsive?(resizeCtx(d,g.newWidth,g.newHeight),d.prevWidth=g.newWidth,d.prevHeight=g.newHeight):(d.prevWidth=0,d.prevHeight=0),redrawGraph(d,f,e))}
function redrawGraph(d,f,e){var g=new Chart(d);switch(d.tpchart){case "Bar":g.Bar(f,e);break;case "Pie":g.Pie(f,e);break;case "Doughnut":g.Doughnut(f,e);break;case "Radar":g.Radar(f,e);break;case "PolarArea":g.PolarArea(f,e);break;case "HorizontalBar":g.HorizontalBar(f,e);break;case "StackedBar":g.StackedBar(f,e);break;case "HorizontalStackedBar":g.HorizontalStackedBar(f,e);break;case "Line":g.Line(f,e)}}
function checkBrowser(){this.ver=navigator.appVersion;this.dom=document.getElementById?1:0;this.ie5=-1<this.ver.indexOf("MSIE 5")&&this.dom?1:0;this.ie4=document.all&&!this.dom?1:0;this.ns5=this.dom&&5<=parseInt(this.ver)?1:0;this.ns4=document.layers&&!this.dom?1:0;this.bw=this.ie5||this.ie4||this.ns4||this.ns5;return this}bw=new checkBrowser;fromTop=fromLeft=10;
function cursorInit(){scrolled=bw.ns4||bw.ns5?"window.pageYOffset":"document.body.scrollTop";bw.ns4&&document.captureEvents(Event.MOUSEMOVE)}function makeCursorObj(d,f){createCursorDiv();f=f?"document."+f+".":"";this.css=bw.dom?document.getElementById(d).style:bw.ie4?document.all[d].style:bw.ns4?eval(f+"document.layers."+d):0;this.moveIt=b_moveIt;cursorInit();return this}function b_moveIt(d,f){this.x=d;this.y=f;this.css.left=this.x+"px";this.css.top=this.y+"px"}
function isIE(){var d=navigator.userAgent.toLowerCase();return-1!=d.indexOf("msie")?parseInt(d.split("msie")[1]):!1}function mergeChartConfig(d,f){var e={},g;for(g in d)e[g]=d[g];for(g in f)e[g]=f[g];return e}function sleep(d){var f=new Date;for(f.setTime(f.getTime()+d);(new Date).getTime()<f.getTime(););}
function saveCanvas(d,f,e){cvSave=d.getImageData(0,0,d.canvas.width,d.canvas.height);var g=mergeChartConfig(e,{savePng:!1,annotateDisplay:!1,animation:!1,dynamicDisplay:!1});g.clearRect=!1;redrawGraph(d,f,g);"NewWindow"==e.savePngOutput&&(f=d.canvas.toDataURL(),d.putImageData(cvSave,0,0),window.open(f,"_blank"));"CurrentWindow"==e.savePngOutput&&(f=d.canvas.toDataURL(),d.putImageData(cvSave,0,0),window.location.href=f);"Save"==e.savePngOutput&&(f=d.canvas.toDataURL(),d=document.createElement("a"),
d.href=f,d.download=e.savePngName+".png",document.body.appendChild(d),d.click(),document.body.removeChild(d))}"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var dynamicDisplay=[],dynamicDisplayList=[];
function dynamicFunction(d,f,e){if(9>isIE()&&0!=isIE())return!0;if(f.dynamicDisplay){if(""==e.canvas.id){var g=(new Date).getTime();e.canvas.id="Canvas_"+g}"undefined"==typeof dynamicDisplay[e.canvas.id]?(dynamicDisplayList[dynamicDisplayList.length]=e.canvas.id,dynamicDisplay[e.canvas.id]=[e,!1,!1,d,f,e.canvas],dynamicDisplay[e.canvas.id][1]=isScrolledIntoView(e.canvas),window.onscroll=scrollFunction):0==dynamicDisplay[e.canvas.id][2]&&(dynamicDisplay[e.canvas.id][1]=isScrolledIntoView(e.canvas));
if(0==dynamicDisplay[e.canvas.id][1]&&0==dynamicDisplay[e.canvas.id][2])return!1;dynamicDisplay[e.canvas.id][2]=!0}return!0}function isScrolledIntoView(d){var f=0,e=0;for(elem=d;elem;)f+=elem.offsetLeft-elem.scrollLeft+elem.clientLeft,e+=elem.offsetTop-elem.scrollTop+elem.clientTop,elem=elem.offsetParent;return f+d.width/2>=window.pageXOffset&&f+d.width/2<=window.pageXOffset+window.innerWidth&&e+d.height/2>=window.pageYOffset&&e+d.height/2<=window.pageYOffset+window.innerHeight?!0:!1}
function scrollFunction(){for(var d=0;d<dynamicDisplayList.length;d++)isScrolledIntoView(dynamicDisplay[dynamicDisplayList[d]][5])&&0==dynamicDisplay[dynamicDisplayList[d]][2]&&(dynamicDisplay[dynamicDisplayList[d]][1]=!0,redrawGraph(dynamicDisplay[dynamicDisplayList[d]][0],dynamicDisplay[dynamicDisplayList[d]][3],dynamicDisplay[dynamicDisplayList[d]][4]))}var jsGraphAnnotate=[];function clearAnnotate(d){jsGraphAnnotate[d]=[]}
function getMousePos(d,f){var e=d.getBoundingClientRect();return{x:f.clientX-e.left,y:f.clientY-e.top}}
function doMouseAction(d,f,e,g,H,J){var M=!1;if("annotate"==H){var L=document.getElementById("divCursor"),Q=!1;L.className=d.annotateClassName?d.annotateClassName:"";L.style.border=d.annotateClassName?"":d.annotateBorder;L.style.padding=d.annotateClassName?"":d.annotatePadding;L.style.borderRadius=d.annotateClassName?"":d.annotateBorderRadius;L.style.backgroundColor=d.annotateClassName?"":d.annotateBackgroundColor;L.style.color=d.annotateClassName?"":d.annotateFontColor;L.style.fontFamily=d.annotateClassName?
"":d.annotateFontFamily;L.style.fontSize=d.annotateClassName?"":d.annotateFontSize+"pt";L.style.fontStyle=d.annotateClassName?"":d.annotateFontStyle}"annotate"==H&&(Q=!1,L.style.display=Q?"":"none");canvas_pos=getMousePos(f.canvas,e);for(i=0;i<jsGraphAnnotate[f.ChartNewId].length;i++){if("ARC"==jsGraphAnnotate[f.ChartNewId][i][0]){if(distance=Math.sqrt((canvas_pos.x-jsGraphAnnotate[f.ChartNewId][i][1])*(canvas_pos.x-jsGraphAnnotate[f.ChartNewId][i][1])+(canvas_pos.y-jsGraphAnnotate[f.ChartNewId][i][2])*
(canvas_pos.y-jsGraphAnnotate[f.ChartNewId][i][2])),distance>jsGraphAnnotate[f.ChartNewId][i][3]&&distance<jsGraphAnnotate[f.ChartNewId][i][4]){angle=Math.acos((canvas_pos.x-jsGraphAnnotate[f.ChartNewId][i][1])/distance);for(canvas_pos.y<jsGraphAnnotate[f.ChartNewId][i][2]&&(angle=-angle);0>angle;)angle+=2*Math.PI;for(;angle>2*Math.PI;)angle-=2*Math.PI;angle<Math.PI/360*d.startAngle&&(angle+=2*Math.PI);if(angle>jsGraphAnnotate[f.ChartNewId][i][5]&&angle<jsGraphAnnotate[f.ChartNewId][i][6]||angle>
jsGraphAnnotate[f.ChartNewId][i][5]-2*Math.PI&&angle<jsGraphAnnotate[f.ChartNewId][i][6]-2*Math.PI||angle>jsGraphAnnotate[f.ChartNewId][i][5]+2*Math.PI&&angle<jsGraphAnnotate[f.ChartNewId][i][6]+2*Math.PI)if(v1=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][7],d.fmtV1),v2=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][8],d.fmtV2),v3=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][9],d.fmtV3),v4=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][10],d.fmtV4),v5=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][11],
d.fmtV5),v6=fmtChartJS(d,100*jsGraphAnnotate[f.ChartNewId][i][8]/jsGraphAnnotate[f.ChartNewId][i][10],d.fmtV6),v6=roundToWithThousands(d,v6,d.roundPct),v7=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][1],d.fmtV7),v8=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][2],d.fmtV8),v9=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][3],d.fmtV9),v10=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][4],d.fmtV10),v11=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][5],d.fmtV11),v12=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][6],
d.fmtV12),v13=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][12],d.fmtV13),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,M=!0,"annotate"==H?(dispString=tmplbis(d.annotateLabel,{config:d,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,v13:v13,graphPosX:graphPosX,graphPosY:graphPosY}),L.innerHTML=dispString,Q=!0):J(e,f,d,g,{v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,v13:v13,graphPosX:graphPosX,graphPosY:graphPosY}),"annotate"==H){x=bw.ns4||
bw.ns5?e.pageX:e.x;y=bw.ns4||bw.ns5?e.pageY:e.y;if(bw.ie4||bw.ie5)y+=eval(scrolled);oCursor.moveIt(x+fromLeft,y+fromTop)}}}else if("RECT"==jsGraphAnnotate[f.ChartNewId][i][0]){if(canvas_pos.x>jsGraphAnnotate[f.ChartNewId][i][1]&&canvas_pos.x<jsGraphAnnotate[f.ChartNewId][i][3]&&canvas_pos.y<jsGraphAnnotate[f.ChartNewId][i][2]&&canvas_pos.y>jsGraphAnnotate[f.ChartNewId][i][4]&&(v1=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][5],d.fmtV1),v2=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][6],d.fmtV2),
v3=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][7],d.fmtV3),v4=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][8],d.fmtV4),v5=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][9],d.fmtV5),v6=fmtChartJS(d,100*jsGraphAnnotate[f.ChartNewId][i][7]/jsGraphAnnotate[f.ChartNewId][i][9],d.fmtV6),v6=roundToWithThousands(d,v6,d.roundPct),v7=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][1],d.fmtV7),v8=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][2],d.fmtV8),v9=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][3],d.fmtV9),
v10=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][4],d.fmtV10),v11=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][10],d.fmtV11),v12=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][11],d.fmtV12),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,M=!0,"annotate"==H?(dispString=tmplbis(d.annotateLabel,{config:d,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY,data:g}),L.innerHTML=dispString,Q=!0):J(e,f,d,g,{v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,
v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY}),"annotate"==H)){x=bw.ns4||bw.ns5?e.pageX:e.x;y=bw.ns4||bw.ns5?e.pageY:e.y;if(bw.ie4||bw.ie5)y+=eval(scrolled);oCursor.moveIt(x+fromLeft,y+fromTop)}}else if("POINT"==jsGraphAnnotate[f.ChartNewId][i][0]&&(distance=Math.sqrt((canvas_pos.x-jsGraphAnnotate[f.ChartNewId][i][1])*(canvas_pos.x-jsGraphAnnotate[f.ChartNewId][i][1])+(canvas_pos.y-jsGraphAnnotate[f.ChartNewId][i][2])*(canvas_pos.y-jsGraphAnnotate[f.ChartNewId][i][2])),
10>distance&&(v1=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][3],d.fmtV1),v2=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][4],d.fmtV2),v3=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][5],d.fmtV3),v4=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][6],d.fmtV4),v5=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][7],d.fmtV5),v6=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][8],d.fmtV6),v7=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][9],d.fmtV7),v8=fmtChartJS(d,100*jsGraphAnnotate[f.ChartNewId][i][5]/jsGraphAnnotate[f.ChartNewId][i][9],
d.fmtV8),v8=roundToWithThousands(d,v8,d.roundPct),v9=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][1],d.fmtV9),v10=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][2],d.fmtV10),v11=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][10],d.fmtV11),v12=fmtChartJS(d,jsGraphAnnotate[f.ChartNewId][i][11],d.fmtV12),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,M=!0,"annotate"==H?(dispString=tmplbis(d.annotateLabel,{config:d,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,
graphPosY:graphPosY,data:g}),L.innerHTML=dispString,Q=!0):J(e,f,d,g,{v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY}),"annotate"==H))){x=bw.ns4||bw.ns5?e.pageX:e.x;y=bw.ns4||bw.ns5?e.pageY:e.y;if(bw.ie4||bw.ie5)y+=eval(scrolled);oCursor.moveIt(x+fromLeft,y+fromTop)}"annotate"==H&&(L.style.display=Q?"":"none")}0==M&&"annotate"!=H&&J(e,f,d,g,null)}
window.Chart=function(d){function f(c){if("undefined"===typeof c.ChartNewId){c.runanimationcompletefunction=!0;var a=(new Date).getTime();c.ChartNewId=c.tpchart+"_"+a;c._eventListeners={}}}function e(c){c.labels=c.labels.reverse();for(var a=0;a<c.datasets.length;a++)for(var b in c.datasets[a])Array.isArray(c.datasets[a][b])&&(c.datasets[a][b]=c.datasets[a][b].reverse());return c}function g(c,a,b,d){if(c)return $(Math.log(a)/Math.LN10*d-L(b.graphMin)*d,void 0,0);c=$((a-b.graphMin)/(b.steps*b.stepValue),
1,0);return d*b.steps*c}function H(c,a,b,d,f,e,g,w,A,v,E,F,m){function u(){r+=D;G+=D*h;r==c.animationSteps||0==c.animation||3==d.firstPass||4==d.firstPass||8==d.firstPass||9==d.firstPass?G=1:1<=G&&(G=.999);var k=c.animation?$(C(G),null,0):1;1*r>=1*$(c.animationSteps,Number.MAX_VALUE,1)||0==c.animation||3==d.firstPass||4==d.firstPass||8==d.firstPass||9==d.firstPass?k=1:1<=k&&(k=.9999);!c.animation||9>isIE()&&0!=isIE()||!c.clearRect||d.clearRect(f,e,g,w);ha(d,c,A,v,E,F,!1,m,k,r);ka(d,c,A,v,E,F,!1,m,
k,r);c.scaleOverlay?(b(k),a()):(a(),b(k));ha(d,c,A,v,E,F,!0,m,k,r);ka(d,c,A,v,E,F,!0,m,k,r);if(-1==D&&r<=p){if("function"==typeof c.onAnimationComplete&&1==d.runanimationcompletefunction)c.onAnimationComplete(d,c,m,0,B+1);D=1;ia(u)}else G<c.animationStopValue?ia(u):!(B<c.animationCount||0==c.animationCount)||1!=d.firstPass&&2==d.firstPass?testRedraw(d,m,c)||"function"!=typeof c.onAnimationComplete||1!=d.runanimationcompletefunction||(c.onAnimationComplete(d,c,m,1,B+1),d.runanimationcompletefunction=
!1):(B++,c.animationBackward&&1==D?(G-=h,D=-1):(D=1,r=p-1,G=s-h),window.setTimeout(u,1E3*c.animationPauseTime))}var r=0,B=1,D=1;if(0>c.animationStartValue||1<c.animationStartValue)c.animation.StartValue=0;if(0>c.animationStopValue||1<c.animationStopValue)c.animation.StopValue=1;c.animationStopValue<c.animationStartValue&&(c.animationStopValue=c.animationStartValue);9>isIE()&&0!=isIE()&&(c.animation=!1);var h=c.animation?1/$(c.animationSteps,Number.MAX_VALUE,1):1,C=ea[c.animationEasing],G=c.animation?
0:1;if(c.animation&&0<c.animationStartValue&&1>=c.animationStartValue)for(;G<c.animationStartValue;)r++,G+=h;var p=r,s=G;"function"!==typeof a&&(a=function(){});c.clearRect?ia(u):u()}function J(c,a,b,d,f,e,g){var w,A,v,E,F,m;2==c?(F=a.logarithmic2,m=a.yAxisMinimumInterval2):(F=a.logarithmic,m=a.yAxisMinimumInterval);if(F)e=L(e),v=L(f)+1,c=Math.pow(10,e),w=Math.pow(10,v),E=v-e;else if(E=L(f-e),c=Math.floor(e/(1*Math.pow(10,E)))*Math.pow(10,E),w=Math.ceil(f/(1*Math.pow(10,E)))*Math.pow(10,E),"number"==
typeof m){for(c-=c%m;c>e;)c-=m;for(1E-7<w%m&&w%m<m-1E-7&&(w=M(a,(1+Math.floor(w/m))*m));w<f;)w+=m}A=w-c;e=Math.pow(10,E);v=Math.round(A/e);if(F)v=E;else{for(F=!1;!F&&(v<d||v>b);)v<d?("number"==typeof m&&e/2<m&&(F=!0),F||(e/=2,v=Math.round(A/e))):(e*=2,v=Math.round(A/e));"number"==typeof m&&(e<m&&(e=m,v=Math.round(A/e)),1E-7<e%m&&e%m<m-1E-7&&(e=1E-7>2*e%m||2*e%m>m-1E-7?2*e:M(a,(1+Math.floor(e/m))*m),v=Math.round(A/e)))}b=[];Q(1,a,g,b,v,c,w,e);return{steps:v,stepValue:e,graphMin:c,labels:b,maxValue:f}}
function M(c,a){var b=0,d=""+c.yAxisMinimumInterval;0<d.indexOf(".")&&(b=d.substr(d.indexOf(".")).length);return Math.round(a*Math.pow(10,b))/Math.pow(10,b)}function L(c){return Math.floor(Math.log(c)/Math.LN10)}function Q(c,a,b,d,e,f,g,w){2==c?(c=a.logarithmic2,fmtYLabel=a.fmtYLabel2):(c=a.logarithmic,fmtYLabel=a.fmtYLabel);if(b)if(c)for(c=0;c<e+1;c++)d.push(ba(b,{value:fmtChartJS(a,1*f.toFixed(fa(f)),fmtYLabel)})),f*=10;else for(c=0;c<e+1;c++)d.push(ba(b,{value:fmtChartJS(a,1*(f+w*c).toFixed(fa(w)),
fmtYLabel)}))}function V(c){return Math.max.apply(Math,c)}function I(c){return Math.min.apply(Math,c)}function $(c,a,b){return isNumber(a)&&c>a?a:isNumber(b)&&c<b?b:c}function fa(c){return 0!=c%1?c.toString().split(".")[1].length:0}function K(c,a){var b={},d;for(d in c)b[d]=c[d];for(d in a)b[d]=a[d];return b}function ba(c,a){var b=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,
"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):la[c]=la[c]||ba(document.getElementById(c).innerHTML);return a?b(a):b}function ka(c,a,b,e,f,g,n,w,A,v){var E,F,m,u,r,B;for(E=0;E<a.crossText.length;E++)if(""!=a.crossText[E]&&a.crossTextOverlay[I([E,a.crossTextOverlay.length-1])]==n&&(1==v&&"first"==a.crossTextIter[I([E,a.crossTextIter.length-1])]||a.crossTextIter[I([E,a.crossTextIter.length-1])]==v||"all"==
a.crossTextIter[I([E,a.crossTextIter.length-1])]||1==A&&"last"==a.crossTextIter[I([E,a.crossTextIter.length-1])])){c.save();c.beginPath();c.font=a.crossTextFontStyle[I([E,a.crossTextFontStyle.length-1])]+" "+a.crossTextFontSize[I([E,a.crossTextFontSize.length-1])]+"px "+a.crossTextFontFamily[I([E,a.crossTextFontFamily.length-1])];c.fillStyle=a.crossTextFontColor[I([E,a.crossTextFontColor.length-1])];r=a.crossTextAlign[I([E,a.crossTextAlign.length-1])];B=a.crossTextBaseline[I([E,a.crossTextBaseline.length-
1])];m=1*a.crossTextPosX[I([E,a.crossTextPosX.length-1])];u=1*a.crossTextPosY[I([E,a.crossTextPosY.length-1])];switch(1*a.crossTextRelativePosX[I([E,a.crossTextRelativePosX.length-1])]){case 0:"default"==r&&(r="left");break;case 1:m+=f;"default"==r&&(r="right");break;case 2:m+=b;"default"==r&&(r="center");break;case -2:m+=d.canvas.width/2;"default"==r&&(r="center");break;case 3:m+=m+2*b-f;"default"==r&&(r="left");break;case 4:m+=d.canvas.width;"default"==r&&(r="right");break;default:m+=b,"default"==
r&&(r="center")}switch(1*a.crossTextRelativePosY[I([E,a.crossTextRelativePosY.length-1])]){case 0:"default"==B&&(B="top");break;case 3:u+=g;"default"==B&&(B="top");break;case 2:u+=e;"default"==B&&(B="middle");break;case -2:u+=d.canvas.height/2;"default"==B&&(B="middle");break;case 1:u+=u+2*e-g;"default"==B&&(B="bottom");break;case 4:u+=d.canvas.height;"default"==B&&(B="bottom");break;default:u+=e,"default"==B&&(B="middle")}c.textAlign=r;c.textBaseline=B;c.translate(1*m,1*u);c.rotate(Math.PI*a.crossTextAngle[I([E,
a.crossTextAngle.length-1])]/180);"%"==a.crossText[E].substring(0,1)?"function"==typeof a.crossTextFunction&&(F=a.crossTextFunction(E,a.crossText[E],c,a,b,e,f,g,n,w,A)):F=a.crossText[E];c.fillTextMultiLine(F,0,0,c.textBaseline,a.crossTextFontSize[I([E,a.crossTextFontSize.length-1])]);c.stroke();c.restore()}}function ha(c,a,b,e,f,g,n,w,A,v){var E,F,m,u;for(w=0;w<a.crossImage.length;w++)if("undefined"!=typeof a.crossImage[w]&&a.crossImageOverlay[I([w,a.crossImageOverlay.length-1])]==n&&(-1==v&&"background"==
a.crossImageIter[I([w,a.crossImageIter.length-1])]||1==v&&"first"==a.crossImageIter[I([w,a.crossImageIter.length-1])]||a.crossImageIter[I([w,a.crossImageIter.length-1])]==v||-1!=v&&"all"==a.crossImageIter[I([w,a.crossImageIter.length-1])]||1==A&&"last"==a.crossImageIter[I([w,a.crossImageIter.length-1])])){c.save();c.beginPath();m=a.crossImageAlign[I([w,a.crossImageAlign.length-1])];u=a.crossImageBaseline[I([w,a.crossImageBaseline.length-1])];E=1*a.crossImagePosX[I([w,a.crossImagePosX.length-1])];
F=1*a.crossImagePosY[I([w,a.crossImagePosY.length-1])];switch(1*a.crossImageRelativePosX[I([w,a.crossImageRelativePosX.length-1])]){case 0:"default"==m&&(m="left");break;case 1:E+=f;"default"==m&&(m="right");break;case 2:E+=b;"default"==m&&(m="center");break;case -2:E+=d.canvas.width/2;"default"==m&&(m="center");break;case 3:E+=E+2*b-f;"default"==m&&(m="left");break;case 4:E+=d.canvas.width;"default"==m&&(m="right");break;default:E+=b,"default"==m&&(m="center")}switch(1*a.crossImageRelativePosY[I([w,
a.crossImageRelativePosY.length-1])]){case 0:"default"==u&&(u="top");break;case 3:F+=g;"default"==u&&(u="top");break;case 2:F+=e;"default"==u&&(u="middle");break;case -2:F+=d.canvas.height/2;"default"==u&&(u="middle");break;case 1:F+=F+2*e-g;"default"==u&&(u="bottom");break;case 4:F+=d.canvas.height;"default"==u&&(u="bottom");break;default:F+=e,"default"==u&&(u="middle")}var r=a.crossImage[w].width;switch(m){case "right":E-=r;break;case "center":E-=r/2}m=a.crossImage[w].height;switch(u){case "bottom":F-=
m;break;case "middle":F-=m/2}c.translate(1*E,1*F);c.rotate(Math.PI*a.crossImageAngle[I([w,a.crossImageAngle.length-1])]/180);c.drawImage(a.crossImage[w],0,0);c.restore()}}function R(c,a,b,d,e,f,g,w,A,v,E,F,m){"none"!=a.canvasBackgroundColor&&(b.canvas.style.background=a.canvasBackgroundColor);var u=0,r=0,B=0,D=0,h=0,C=0,G=0,p=0,s=0,k=0,l=0,q=0,z=0,W=0,S=0,U=z=0,n=0,H=0,da=0,ga=0,K=0,L=0,N=0,J=1,M=1,O=0,T=1,Q=0,P=0,R=0,X=0,$=0,Y=0,Z=0;b.widthAtSetMeasures=e;b.heightAtSetMeasures=d;a.canvasBorders&&
(u=a.canvasBordersWidth);if(v){b.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily;for(N=0;N<c.labels.length;N++)P=b.measureTextMultiLine(fmtChartJS(a,c.labels[N],a.fmtXLabel),a.scaleFontSize),J=P.textWidth>J?P.textWidth:J,M=P.textHeight>M?P.textHeight:M;J<a.xScaleLabelsMinimumWidth&&(J=a.xScaleLabelsMinimumWidth)}if(v){O=1;if(null!=f&&"nihil"!=f)for(b.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,N=f.length-1;0<=N;N--)"string"==typeof f[N]&&""!=f[N].trim()&&(P=
b.measureTextMultiLine(fmtChartJS(a,f[N],a.fmtYLabel),a.scaleFontSize),O=P.textWidth>O?P.textWidth:O,T=P.textHeight>T?P.textHeight:T);O<a.yScaleLabelsMinimumWidth&&(O=a.yScaleLabelsMinimumWidth);Q=1;if(null!=g&&a.yAxisRight)for(b.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,N=g.length-1;0<=N;N--)"string"==typeof g[N]&&""!=g[N].trim()&&(P=b.measureTextMultiLine(fmtChartJS(a,g[N],a.fmtYLabel2),a.scaleFontSize),Q=P.textWidth>Q?P.textWidth:Q);else Q=O;Q<a.yScaleLabelsMinimumWidth&&
(Q=a.yScaleLabelsMinimumWidth)}P=u+a.spaceLeft;R=u+a.spaceRight;v&&("undefined"!=typeof a.yAxisLabel&&""!=a.yAxisLabel.trim()&&(da=a.yAxisFontSize+a.yAxisLabelSpaceLeft+a.yAxisLabelSpaceRight,ga=u+a.spaceLeft+a.yAxisLabelSpaceLeft+a.yAxisFontSize,K=e-u-a.spaceRight-a.yAxisLabelSpaceLeft-a.yAxisFontSize),a.yAxisLeft&&(P=0==A?u+a.spaceLeft+da+O+a.yAxisSpaceLeft+a.yAxisSpaceRight:u+a.spaceLeft+da+J+a.yAxisSpaceLeft+a.yAxisSpaceRight),a.yAxisRight&&(R=0==A?u+a.spaceRight+da+Q+a.yAxisSpaceLeft+a.yAxisSpaceRight:
u+a.spaceRight+da+J+a.yAxisSpaceLeft+a.yAxisSpaceRight));availableWidth=e-P-R;""!=a.graphTitle.trim()&&(B=a.graphTitleFontSize+a.graphTitleSpaceBefore+a.graphTitleSpaceAfter,D=u+a.spaceTop+B-a.graphTitleSpaceAfter);""!=a.graphSubTitle.trim()&&(h=a.graphSubTitleFontSize+a.graphSubTitleSpaceBefore+a.graphSubTitleSpaceAfter,C=u+a.spaceTop+B+h-a.graphSubTitleSpaceAfter);v&&""!=a.yAxisUnit.trim()&&(s=a.yAxisUnitFontSize+a.yAxisUnitSpaceBefore+a.yAxisUnitSpaceAfter,k=u+a.spaceTop+B+h+s-a.yAxisUnitSpaceAfter);
topNotUsableSize=u+a.spaceTop+B+h+s+a.graphSpaceBefore;"undefined"!=typeof a.footNote&&""!=a.footNote.trim()&&(G=a.footNoteFontSize+a.footNoteSpaceBefore+a.footNoteSpaceAfter,p=d-a.spaceBottom-u-a.footNoteSpaceAfter);v&&"undefined"!=typeof a.xAxisLabel&&""!=a.xAxisLabel.trim()&&(L=a.xAxisFontSize+a.xAxisLabelSpaceBefore+a.xAxisLabelSpaceAfter,r=d-u-a.spaceBottom-G-a.xAxisLabelSpaceAfter);bottomNotUsableHeightWithoutXLabels=u+a.spaceBottom+G+L+a.graphSpaceAfter;if("undefined"!=typeof a.legend&&1==
a.legend){b.font=a.legendFontStyle+" "+a.legendFontSize+"px "+a.legendFontFamily;if(E)for(N=c.datasets.length-1;0<=N;N--)"string"==typeof c.datasets[N].title&&""!=c.datasets[N].title.trim()&&(q++,g=b.measureText(fmtChartJS(a,c.datasets[N].title,a.fmtLegend)).width,l=g>l?g:l);else for(N=c.length-1;0<=N;N--)"string"==typeof c[N].title&&""!=c[N].title.trim()&&(q++,g=b.measureText(fmtChartJS(a,c[N].title,a.fmtLegend)).width,l=g>l?g:l);if(1<q||1==q&&a.showSingleLegend){l+=a.legendBlockSize+a.legendSpaceBetweenBoxAndText;
availableLegendWidth=1==a.legendPosY||2==a.legendPosY||3==a.legendPosY?availableWidth-a.legendSpaceLeftText-a.legendSpaceRightText:e-a.spaceLeft-a.spaceRight-2*u-a.legendSpaceLeftText-a.legendSpaceRightText;1==a.legendBorders&&(availableLegendWidth-=2*a.legendBordersWidth-a.legendBordersSpaceLeft-a.legendBordersSpaceRight);maxLegendOnLine=I([Math.floor((availableLegendWidth+a.legendSpaceBetweenTextHorizontal)/(l+a.legendSpaceBetweenTextHorizontal)),a.maxLegendCols]);z=Math.ceil(q/maxLegendOnLine);
W=Math.ceil(q/z);S=z*(a.legendFontSize+a.legendSpaceBetweenTextVertical)-a.legendSpaceBetweenTextVertical+a.legendSpaceBeforeText+a.legendSpaceAfterText;switch(a.legendPosY){case 0:z=a.spaceLeft+(e-a.spaceLeft-a.spaceRight-W*(l+a.legendSpaceBetweenTextHorizontal)+a.legendSpaceBetweenTextHorizontal)/2;1==a.legendBorders?(H=topNotUsableSize+a.legendBordersSpaceBefore+a.legendBordersWidth/2,U=H+a.legendBordersWidth/2+a.legendSpaceBeforeText+a.legendFontSize,S+=2*a.legendBordersWidth+a.legendBordersSpaceBefore+
a.legendBordersSpaceAfter,n=Math.floor(z-a.legendSpaceLeftText-a.legendBordersWidth/2),Z=Math.ceil(S-a.legendBordersWidth)-a.legendBordersSpaceBefore-a.legendBordersSpaceAfter,Y=Math.ceil(W*(l+a.legendSpaceBetweenTextHorizontal))-a.legendSpaceBetweenTextHorizontal+a.legendBordersWidth+a.legendSpaceRightText+a.legendSpaceLeftText):U=topNotUsableSize+a.legendBordersSpaceBefore+a.legendBordersWidth/2;0<s&&(k+=S,1==a.legendBorders&&(H-=s),U-=s);topNotUsableSize+=S;break;case 1:z=a.spaceLeft+(e-a.spaceLeft-
a.spaceRight-W*(l+a.legendSpaceBetweenTextHorizontal)+a.legendSpaceBetweenTextHorizontal)/2;U=topNotUsableSize+a.legendSpaceBeforeText+a.legendFontSize;1==a.legendBorders&&(U+=a.legendBordersSpaceBefore+a.legendBordersWidth,H=U-a.legendSpaceBeforeText-a.legendFontSize-a.legendBordersWidth/2,S+=2*a.legendBordersWidth+a.legendBordersSpaceBefore+a.legendBordersSpaceAfter,n=Math.floor(z-a.legendSpaceLeftText-a.legendBordersWidth/2),Z=Math.ceil(S-a.legendBordersWidth)-a.legendBordersSpaceBefore-a.legendBordersSpaceAfter,
Y=Math.ceil(W*(l+a.legendSpaceBetweenTextHorizontal))-a.legendSpaceBetweenTextHorizontal+a.legendBordersWidth+a.legendSpaceRightText+a.legendSpaceLeftText);break;case 2:z=a.spaceLeft+(e-a.spaceLeft-a.spaceRight-W*(l+a.legendSpaceBetweenTextHorizontal)+a.legendSpaceBetweenTextHorizontal)/2;U=topNotUsableSize+(d-topNotUsableSize-bottomNotUsableHeightWithoutXLabels-S)/2+a.legendSpaceBeforeText+a.legendFontSize;1==a.legendBorders&&(U+=a.legendBordersSpaceBefore-a.legendBordersSpaceAfter,H=U-a.legendSpaceBeforeText-
a.legendFontSize-a.legendBordersWidth/2,S+=2*a.legendBordersWidth+a.legendBordersSpaceBefore+a.legendBordersSpaceAfter,n=Math.floor(z-a.legendSpaceLeftText-a.legendBordersWidth/2),Z=Math.ceil(S-a.legendBordersWidth)-a.legendBordersSpaceBefore-a.legendBordersSpaceAfter,Y=Math.ceil(W*(l+a.legendSpaceBetweenTextHorizontal))-a.legendSpaceBetweenTextHorizontal+a.legendBordersWidth+a.legendSpaceRightText+a.legendSpaceLeftText);break;case 3:z=a.spaceLeft+(e-a.spaceLeft-a.spaceRight-W*(l+a.legendSpaceBetweenTextHorizontal)+
a.legendSpaceBetweenTextHorizontal)/2;availableHeight=d-topNotUsableSize-bottomNotUsableHeightWithoutXLabels;U=topNotUsableSize+availableHeight-S+a.legendSpaceBeforeText+a.legendFontSize;1==a.legendBorders&&(U-=a.legendBordersSpaceAfter+a.legendBordersWidth,H=U-a.legendSpaceBeforeText-a.legendFontSize-a.legendBordersWidth/2,S+=2*a.legendBordersWidth+a.legendBordersSpaceBefore+a.legendBordersSpaceAfter,n=Math.floor(z-a.legendSpaceLeftText-a.legendBordersWidth/2),Z=Math.ceil(S-a.legendBordersWidth)-
a.legendBordersSpaceBefore-a.legendBordersSpaceAfter,Y=Math.ceil(W*(l+a.legendSpaceBetweenTextHorizontal))-a.legendSpaceBetweenTextHorizontal+a.legendBordersWidth+a.legendSpaceRightText+a.legendSpaceLeftText);break;default:U=d-u-a.spaceBottom-G-S+a.legendSpaceBeforeText+a.legendFontSize,z=a.spaceLeft+(e-a.spaceLeft-a.spaceRight-W*(l+a.legendSpaceBetweenTextHorizontal)+a.legendSpaceBetweenTextHorizontal)/2,1==a.legendBorders&&(S+=2*a.legendBordersWidth+a.legendBordersSpaceBefore+a.legendBordersSpaceAfter,
U-=a.legendBordersWidth+a.legendBordersSpaceAfter,H=Math.floor(d-u-a.spaceBottom-G-S+a.legendBordersWidth/2+a.legendBordersSpaceBefore),n=Math.floor(z-a.legendSpaceLeftText-a.legendBordersWidth/2),Z=Math.ceil(S-a.legendBordersWidth)-a.legendBordersSpaceBefore-a.legendBordersSpaceAfter,Y=Math.ceil(W*(l+a.legendSpaceBetweenTextHorizontal))-a.legendSpaceBetweenTextHorizontal+a.legendBordersWidth+a.legendSpaceRightText+a.legendSpaceLeftText),r-=S,bottomNotUsableHeightWithoutXLabels+=S}g=a.legendSpaceRightText+
W*(l+a.legendSpaceBetweenTextHorizontal)-a.legendSpaceBetweenTextHorizontal+a.legendSpaceLeftText;1==a.legendBorders&&(g+=2*a.legendBordersWidth+a.legendBordersSpaceLeft+a.legendBordersSpaceRight);switch(a.legendPosX){case 0:z=a.spaceLeft+a.canvasBorders*a.canvasBordersWidth+a.legendSpaceLeftText;1==a.legendBorders&&(z+=a.legendBordersWidth+a.legendBordersSpaceLeft,n=a.spaceLeft+a.canvasBorders*a.canvasBordersWidth+a.legendBordersSpaceLeft);1<=a.legendPosY&&3>=a.legendPosY&&(P+=g,ga+=g);break;case 1:z=
P+a.legendSpaceLeftText;1==a.legendBorders&&(n=z,z+=a.legendBordersWidth+a.legendBordersSpaceLeft);break;case 2:z=P+(e-R-P)/2-(a.legendSpaceLeftText-a.legendSpaceRightText)-(W*(l+a.legendSpaceBetweenTextHorizontal)-a.legendSpaceBetweenTextHorizontal)/2;1==a.legendBorders&&(z-=a.legendBordersWidth+a.legendBordersSpaceRight,n=z-a.legendBordersWidth/2-a.legendSpaceLeftText);break;case 3:z=e-R-a.legendSpaceRightText-W*(l+a.legendSpaceBetweenTextHorizontal)+a.legendSpaceBetweenTextHorizontal/2;1==a.legendBorders&&
(z-=a.legendBordersWidth+a.legendBordersSpaceRight,n=z-a.legendBordersWidth/2-a.legendSpaceLeftText);break;case 4:z=e-a.spaceRight-a.canvasBorders*a.canvasBordersWidth-a.legendSpaceRightText-W*(l+a.legendSpaceBetweenTextHorizontal)+a.legendSpaceBetweenTextHorizontal/2,1==a.legendBorders&&(z-=a.legendBordersWidth+a.legendBordersSpaceRight,n=z-a.legendBordersSpaceLeft-a.legendBordersWidth/2),1<=a.legendPosY&&3>=a.legendPosY&&(R+=g,K-=g)}1==a.legendBorders&&(H+=a.legendYPadding,n+=a.legendXPadding);
U+=a.legendYPadding;z+=a.legendXPadding}}xLabelWidth=0;bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels;v&&(a.xAxisBottom||a.xAxisTop)?(0==A?(A=J,v=M,nblab=c.labels.length):(A=O,v=T,nblab=f.length),"smart"==a.rotateLabels?(X=0,(availableWidth+a.xAxisSpaceBetweenLabels)/nblab<A+a.xAxisSpaceBetweenLabels&&(X=45,availableWidth/nblab<Math.abs(Math.cos(X*Math.PI/180)*A)&&(X=90))):(X=a.rotateLabels,0>X&&(X=0),180<X&&(X=180)),90<X&&(X+=180),N=Math.abs(Math.sin(X*Math.PI/180)*A)+Math.abs(Math.sin((X+
90)*Math.PI/180)*v)+a.xAxisSpaceBefore+a.xAxisSpaceAfter,$=d-u-a.spaceBottom-G-L-(N-a.xAxisSpaceBefore)-a.graphSpaceAfter,xLabelWidth=Math.abs(Math.cos(X*Math.PI/180)*A)+Math.abs(Math.cos((X+90)*Math.PI/180)*v),P=V([P,u+a.spaceLeft+xLabelWidth/2]),R=V([R,u+a.spaceRight+xLabelWidth/2]),availableWidth=e-P-R,a.legend&&a.xAxisBottom&&4==a.legendPosY&&($-=S),bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels+N):availableWidth=e-P-R;availableHeight=d-topNotUsableSize-bottomNotUsableHeightWithXLabels;
ha(b,a,e/2,d/2,e/2,d/2,!1,c,-1,-1);if("nihil"!=f){0<u&&(b.save(),b.beginPath(),b.lineWidth=2*u,b.strokeStyle=a.canvasBordersColor,b.moveTo(0,0),b.lineTo(0,d),b.lineTo(e,d),b.lineTo(e,0),b.lineTo(0,0),b.stroke(),b.restore());0<B&&(b.save(),b.beginPath(),b.font=a.graphTitleFontStyle+" "+a.graphTitleFontSize+"px "+a.graphTitleFontFamily,b.fillStyle=a.graphTitleFontColor,b.textAlign="center",b.textBaseline="bottom",b.translate(a.spaceLeft+(e-a.spaceLeft-a.spaceRight)/2,D),b.fillText(a.graphTitle,0,0),
b.stroke(),b.restore());0<h&&(b.save(),b.beginPath(),b.font=a.graphSubTitleFontStyle+" "+a.graphSubTitleFontSize+"px "+a.graphSubTitleFontFamily,b.fillStyle=a.graphSubTitleFontColor,b.textAlign="center",b.textBaseline="bottom",b.translate(a.spaceLeft+(e-a.spaceLeft-a.spaceRight)/2,C),b.fillText(a.graphSubTitle,0,0),b.stroke(),b.restore());0<s&&(a.yAxisLeft&&(b.save(),b.beginPath(),b.font=a.yAxisUnitFontStyle+" "+a.yAxisUnitFontSize+"px "+a.yAxisUnitFontFamily,b.fillStyle=a.yAxisUnitFontColor,b.textAlign=
"center",b.textBaseline="bottom",b.translate(P,k),b.fillText(a.yAxisUnit,0,0),b.stroke(),b.restore()),a.yAxisRight&&(""==a.yAxisUnit2&&(a.yAxisUnit2=a.yAxisUnit),b.save(),b.beginPath(),b.font=a.yAxisUnitFontStyle+" "+a.yAxisUnitFontSize+"px "+a.yAxisUnitFontFamily,b.fillStyle=a.yAxisUnitFontColor,b.textAlign="center",b.textBaseline="bottom",b.translate(e-R,k),b.fillText(a.yAxisUnit2,0,0),b.stroke(),b.restore()));0<da&&(a.yAxisLeft&&(b.save(),b.beginPath(),b.font=a.yAxisFontStyle+" "+a.yAxisFontSize+
"px "+a.yAxisFontFamily,b.fillStyle=a.yAxisFontColor,b.textAlign="center",b.textBaseline="bottom",b.translate(ga,topNotUsableSize+availableHeight/2),b.rotate(-(Math.PI/180*90)),b.fillText(a.yAxisLabel,0,0),b.stroke(),b.restore()),a.yAxisRight&&(""==a.yAxisLabel2&&(a.yAxisLabel2=a.yAxisLabel),b.save(),b.beginPath(),b.font=a.yAxisFontStyle+" "+a.yAxisFontSize+"px "+a.yAxisFontFamily,b.fillStyle=a.yAxisFontColor,b.textAlign="center",b.textBaseline="bottom",b.translate(K,topNotUsableSize+availableHeight/
2),b.rotate(+(Math.PI/180*90)),b.fillText(a.yAxisLabel2,0,0),b.stroke(),b.restore()));0<L&&a.xAxisBottom&&(b.save(),b.beginPath(),b.font=a.xAxisFontStyle+" "+a.xAxisFontSize+"px "+a.xAxisFontFamily,b.fillStyle=a.xAxisFontColor,b.textAlign="center",b.textBaseline="bottom",b.translate(P+availableWidth/2,r),b.fillText(a.xAxisLabel,0,0),b.stroke(),b.restore());if(1<q||1==q&&a.showSingleLegend){var ba={dispLegend:!0,xLegendBorderPos:n,yLegendBorderPos:H,legendBorderWidth:Y,legendBorderHeight:Z,nbLegendCols:W,
xFirstLegendTextPos:z,yFirstLegendTextPos:U,drawLegendOnData:E,reverseLegend:w,legendBox:F,widestLegend:l};if(0==a.legendPosY||4==a.legendPosY||0==a.legendPosX||4==a.legendPosX)drawLegend(ba,c,a,b,m),ba={dispLegend:!1}}else ba={dispLegend:!1};""!=a.footNote.trim()&&(b.save(),b.font=a.footNoteFontStyle+" "+a.footNoteFontSize+"px "+a.footNoteFontFamily,b.fillStyle=a.footNoteFontColor,b.textAlign="center",b.textBaseline="bottom",b.translate(P+availableWidth/2,p),b.fillText(a.footNote,0,0),b.stroke(),
b.restore())}clrx=P;clrwidth=availableWidth;clry=topNotUsableSize;clrheight=availableHeight;return{leftNotUsableSize:P,rightNotUsableSize:R,availableWidth:availableWidth,topNotUsableSize:topNotUsableSize,bottomNotUsableHeightWithoutXLabels:bottomNotUsableHeightWithoutXLabels,bottomNotUsableHeightWithXLabels:bottomNotUsableHeightWithXLabels,availableHeight:availableHeight,widestXLabel:J,highestXLabel:M,widestYLabel:O,widestYLabel2:Q,highestYLabel:T,rotateLabels:X,xLabelPos:$,clrx:clrx,clry:clry,clrwidth:clrwidth,
clrheight:clrheight,legendMsr:ba}}function ja(c,a,b,d,e,f,n){function w(a,c){return v-r-h.mainVal*(g(D,b.datasets[a].data[c],B,u)-r)}function A(a,c,b){if("object"==typeof b.datasets[a].xPos&&"undefined"!=typeof b.datasets[a].xPos[Math.floor(c+1E-4)]){var d=F*m,e="undefined"!=typeof b.xBegin?b.xBegin:1*b.labels[0],h="undefined"!=typeof b.xEnd?b.xEnd:1*b.labels[b.labels.length-1];h<=e&&(h=e+100);if(1*b.datasets[a].xPos[Math.floor(c+1E-4)]>=e&&b.datasets[a].xPos[Math.floor(c+1E-4)]<=h)return e=d=E+(1*
b.datasets[a].xPos[Math.floor(c+1E-4)]-e)/(h-e)*d,1E-4<Math.abs(c-Math.floor(c+1E-4))&&(e=A(a,Math.ceil(c-1E-4),b)),d+(c-Math.floor(c+1E-4))*(e-d)}return E+F*c}var v=n.xAxisPosY,E=n.yAxisPosX,F=n.valueHop,m=n.nbValueHop,u=n.scaleHop,r=n.zeroY,B=n.calculatedScale,D=n.logarithmic,h=animationCorrection(a,b,d,0,0,0);f=[];n=[];for(var C=[],G=[],p=0;p<b.datasets.length;p++)if(C[p]=-999999999,G[p]=999999999,2==c&&2==b.datasets[p].axis||2!=c&&2!=b.datasets[p].axis)for(var s=0;s<b.datasets[p].data.length;s++)f[s]=
0,n[s]=-999999999;h.mainVal=1;for(p=0;p<b.datasets.length;p++)if(2==c&&2==b.datasets[p].axis||2!=c&&2!=b.datasets[p].axis)for(s=0;s<b.datasets[p].data.length;s++)f[s]+=b.datasets[p].data[s],n[s]=V([n[s],b.datasets[p].data[s]]),C[p]=V([C[p],w(p,s)]),G[p]=I([G[p],w(p,s)]);for(p=0;p<b.datasets.length;p++)if(2==c&&2==b.datasets[p].axis||2!=c&&2!=b.datasets[p].axis){var k=-1,l=-1;e.strokeStyle="function"==typeof b.datasets[p].strokeColor?b.datasets[p].strokeColor("STROKECOLOR",b,d,p,-1,a,-1,"Line",e,E,
C[p],E+F*(b.datasets[p].data.length-1),C[p]-(d.animationLeftToRight?1:1*h.mainVal)*(C[p]-G[p])):"string"==typeof b.datasets[p].strokeColor?b.datasets[p].strokeColor:d.defaultStrokeColor;e.lineWidth=d.datasetStrokeWidth;e.beginPath();for(var q,z,s=prevnotempty=q=0;s<b.datasets[p].data.length;s++){var W=A(p,s,b),h=animationCorrection(a,b,d,p,s,0);0==h.mainVal&&0<q&&(e.stroke(),e.strokeStyle="rgba(0,0,0,0)",e.lineTo(z,v-r));q=h.mainVal;1<=h.mainVal&&(lgtxt="string"==typeof b.datasets[p].title?b.datasets[p].title.trim():
"");if("undefined"!=typeof b.datasets[p].data[s]){if(z=A(p,s,b),-1==k?(e.moveTo(W,w(p,s)),l=s):d.bezierCurve?e.bezierCurveTo(A(p,s-(s-k)/2,b),w(p,k),A(p,s-(s-k)/2,b),w(p,s),A(p,s,b),w(p,s)):e.lineTo(A(p,s,b),w(p,s)),"undefined"!==typeof b.datasets[p].data[s+1]||1==d.extrapolateMissingData){if(0<h.subVal){nxtnotmiss=-1;for(t=s+1;t<b.datasets[p].data.length&&-1==nxtnotmiss;t++)"undefined"!=typeof b.datasets[p].data[t]&&(nxtnotmiss=t);-1!=nxtnotmiss&&(z=A(p,s+h.subVal,b),d.bezierCurve?e.bezierCurveTo(A(p,
s+h.subVal/2,b),w(p,s),A(p,s+h.subVal/2,b),w(p,nxtnotmiss),A(p,s+h.subVal,b),w(p,nxtnotmiss)):e.lineTo(A(p,s+h.subVal,b),w(p,s+1)))}k=s;if(1<=a&&(divprev=0==p?b.datasets[p].data[s]:b.datasets[p].data[s]-b.datasets[p-1].data[s],divnext=p==b.datasets.length-1?b.datasets[p].data[s]:b.datasets[p].data[s]-b.datasets[p+1].data[s],lgtxt2="","undefined"!=typeof b.datasets[p].xPos&&"undefined"!=typeof b.datasets[p].xPos[s]&&(lgtxt2=b.datasets[p].xPos[s]),""==lgtxt2&&"undefined"!=typeof b.labels[s]&&(lgtxt2=
b.labels[s]),"string"==typeof lgtxt2&&(lgtxt2=lgtxt2.trim()),jsGraphAnnotate[e.ChartNewId][jsGraphAnnotate[e.ChartNewId].length]=["POINT",A(p,s,b),w(p,s),lgtxt,lgtxt2,1*b.datasets[p].data[s],divprev,divnext,n[s],f[s],p,s],d.inGraphDataShow)){e.save();e.textAlign=d.inGraphDataAlign;e.textBaseline=d.inGraphDataVAlign;e.font=d.inGraphDataFontStyle+" "+d.inGraphDataFontSize+"px "+d.inGraphDataFontFamily;e.fillStyle=d.inGraphDataFontColor;g(D,b.datasets[p].data[s],B,u);var W=d.inGraphDataPaddingX,S=d.inGraphDataPaddingY,
U=tmplbis(d.inGraphDataTmpl,{config:d,v1:fmtChartJS(d,lgtxt,d.fmtV1),v2:fmtChartJS(d,lgtxt2,d.fmtV2),v3:fmtChartJS(d,1*b.datasets[p].data[s],d.fmtV3),v4:fmtChartJS(d,divprev,d.fmtV4),v5:fmtChartJS(d,divnext,d.fmtV5),v6:fmtChartJS(d,n[s],d.fmtV6),v7:fmtChartJS(d,f[s],d.fmtV7),v8:roundToWithThousands(d,fmtChartJS(d,100*b.datasets[p].data[s]/f[s],d.fmtV8),d.roundPct),v9:fmtChartJS(d,E+F*ca,d.fmtV9),v10:fmtChartJS(d,v-g(D,b.datasets[p].data[s],B,u),d.fmtV10),v11:fmtChartJS(d,p,d.fmtV11),v12:fmtChartJS(d,
s,d.fmtV12),data:b});e.translate(A(p,s,b)+W,w(p,s)-S);e.rotate(Math.PI/180*d.inGraphDataRotate);e.fillTextMultiLine(U,0,0,e.textBaseline,d.inGraphDataFontSize);e.restore()}}}else if(0==d.extrapolateMissingData)e.stroke(),d.datasetFill&&(e.lineTo(z,v-r),e.lineTo(A(p,l,b),v-r),e.lineTo(A(p,l,b),w(p,l)),e.closePath(),e.fillStyle="function"==typeof b.datasets[p].fillColor?b.datasets[p].fillColor("FILLCOLOR",b,d,p,-1,h.mainVal,-1,"Line",e,E,C[p],E+F*(b.datasets[p].data.length-1),C[p]-(d.animationLeftToRight?
1:1*h.mainVal)*(C[p]-G[p])):"string"==typeof b.datasets[p].fillColor?b.datasets[p].fillColor:d.defaultFillColor,e.fill()),e.beginPath(),l=k=-1,prevnotempty=q=0;else if(0<h.subVal){nxtnotmiss=-1;for(t=s+1;t<b.datasets[p].data.length&&-1==nxtnotmiss;t++)"undefined"!=typeof b.datasets[p].data[t]&&(nxtnotmiss=t);"undefined"===typeof b.datasets[p].data[s]&&1!=d.extrapolateMissingData||-1==nxtnotmiss||(z=A(p,s+h.subVal,b),d.bezierCurve?e.bezierCurveTo(A(p,k+(s+h.subVal-k)/2,b),w(p,k),A(p,k+(s+h.subVal-
k)/2,b),w(p,nxtnotmiss),A(p,s+h.subVal,b),w(p,nxtnotmiss)):e.lineTo(A(p,s+h.subVal,b),w(p,s+1)))}}e.stroke();d.datasetFill?(e.lineTo(z,v-r),e.lineTo(A(p,l,b),v-r),e.lineTo(A(p,l,b),w(p,l)),e.closePath(),e.fillStyle="function"==typeof b.datasets[p].fillColor?b.datasets[p].fillColor("FILLCOLOR",b,d,p,-1,h.mainVal,-1,"Line",e,E,C[p],E+F*(b.datasets[p].data.length-1),C[p]-(d.animationLeftToRight?1:1*h.mainVal)*(C[p]-G[p])):"string"==typeof b.datasets[p].fillColor?b.datasets[p].fillColor:d.defaultFillColor,
e.fill()):e.closePath();if(d.pointDot){e.fillStyle="function"==typeof b.datasets[p].pointColor?b.datasets[p].pointColor("POINTCOLOR",b,d,p,-1,a,-1,"Line",e,E,C[p],E+F*(b.datasets[p].data.length-1),C[p]-(d.animationLeftToRight?1:1*h.mainVal)*(C[p]-G[p])):b.datasets[p].pointColor;e.strokeStyle="function"==typeof b.datasets[p].pointStrokeColor?b.datasets[p].pointStrokeColor("POINTSTROKECOLOR",b,d,p,-1,a,-1,"Line",e,E,C[p],E+F*(b.datasets[p].data.length-1),C[p]-(d.animationLeftToRight?1:1*h.mainVal)*
(C[p]-G[p])):b.datasets[p].pointStrokeColor;e.lineWidth=d.pointDotStrokeWidth;for(var ca=0;ca<b.datasets[p].data.length;ca++)"undefined"!=typeof b.datasets[p].data[ca]&&(h=animationCorrection(a,b,d,p,ca,0),0<h.mainVal||!d.animationLeftToRight)&&(e.beginPath(),e.arc(A(p,ca,b),w(p,ca),d.pointDotRadius,0,2*Math.PI,!0),e.fill(),e.stroke())}}}function Y(c,a){a.clearRect?a.multiGraph||(c.clearRect(0,0,O,T),c.clearRect(0,0,O,T)):(c.clearRect(0,0,O,T),c.clearRect(0,0,O,T),c.fillStyle=a.savePngBackgroundColor,
c.strokeStyle=a.savePngBackgroundColor,c.beginPath(),c.moveTo(0,0),c.lineTo(0,c.canvas.height),c.lineTo(c.canvas.width,c.canvas.height),c.lineTo(c.canvas.width,0),c.lineTo(0,0),c.stroke(),c.fill())}function Z(c,a,b){function d(e,f,g){function w(d){(null==g||g(d))&&doMouseAction(b,c,d,a,"mouseaction",f)}if("function"==typeof f){var A=e+" "+f.name;A in c._eventListeners&&(c.canvas.removeEventListener?c.canvas.removeEventListener(e,c._eventListeners[A]):c.canvas.detachEvent&&c.canvas.detachEvent(e,c._eventListeners[A]));
c._eventListeners[A]=w;c.canvas.addEventListener?("mousewheel"==e&&(e="DOMMouseScroll"),c.canvas.addEventListener(e,w,!1)):c.canvas.attachEvent&&c.canvas.attachEvent("on"+e,w)}}1==b.annotateDisplay&&(0==cursorDivCreated&&(oCursor=new makeCursorObj("divCursor")),9>isIE()&&0!=isIE()?c.canvas.attachEvent("on"+b.annotateFunction.split(" ")[0],function(d){("left"==b.annotateFunction.split(" ")[1]&&1==d.which||"middle"==b.annotateFunction.split(" ")[1]&&2==d.which||"right"==b.annotateFunction.split(" ")[1]&&
3==d.which||"string"!=typeof b.annotateFunction.split(" ")[1])&&doMouseAction(b,c,d,a,"annotate",b.mouseDownRight)}):c.canvas.addEventListener(b.annotateFunction.split(" ")[0],function(d){("left"==b.annotateFunction.split(" ")[1]&&1==d.which||"middle"==b.annotateFunction.split(" ")[1]&&2==d.which||"right"==b.annotateFunction.split(" ")[1]&&3==d.which||"string"!=typeof b.annotateFunction.split(" ")[1])&&doMouseAction(b,c,d,a,"annotate",b.mouseDownRight)},!1));b.savePng&&(9>isIE()&&0!=isIE()?c.canvas.attachEvent("on"+
b.savePngFunction.split(" ")[0],function(d){("left"==b.savePngFunction.split(" ")[1]&&1==d.which||"middle"==b.savePngFunction.split(" ")[1]&&2==d.which||"right"==b.savePngFunction.split(" ")[1]&&3==d.which||"string"!=typeof b.savePngFunction.split(" ")[1])&&saveCanvas(c,a,b)}):c.canvas.addEventListener(b.savePngFunction.split(" ")[0],function(d){("left"==b.savePngFunction.split(" ")[1]&&1==d.which||"middle"==b.savePngFunction.split(" ")[1]&&2==d.which||"right"==b.savePngFunction.split(" ")[1]&&3==
d.which||"string"!=typeof b.savePngFunction.split(" ")[1])&&saveCanvas(c,a,b)},!1));9>isIE()&&0!=isIE()?c.canvas.attachEvent("onmousewheel",function(a){cursorDivCreated&&(document.getElementById("divCursor").style.display="none")}):c.canvas.addEventListener("DOMMouseScroll",function(a){cursorDivCreated&&(document.getElementById("divCursor").style.display="none")},!1);d("mousedown",b.mouseDownLeft,function(a){return 1==a.which});d("mousedown",b.mouseDownMiddle,function(a){return 2==a.which});d("mousedown",
b.mouseDownRight,function(a){return 3==a.which});d("mousemove",b.mouseMove);d("mouseout",b.mouseOut);d("mousewheel",b.mouseWheel)}var n=this,ea={linear:function(c){return c},easeInQuad:function(c){return c*c},easeOutQuad:function(c){return-1*c*(c-2)},easeInOutQuad:function(c){return 1>(c/=.5)?.5*c*c:-.5*(--c*(c-2)-1)},easeInCubic:function(c){return c*c*c},easeOutCubic:function(c){return 1*((c=c/1-1)*c*c+1)},easeInOutCubic:function(c){return 1>(c/=.5)?.5*c*c*c:.5*((c-=2)*c*c+2)},easeInQuart:function(c){return c*
c*c*c},easeOutQuart:function(c){return-1*((c=c/1-1)*c*c*c-1)},easeInOutQuart:function(c){return 1>(c/=.5)?.5*c*c*c*c:-.5*((c-=2)*c*c*c-2)},easeInQuint:function(c){return 1*(c/=1)*c*c*c*c},easeOutQuint:function(c){return 1*((c=c/1-1)*c*c*c*c+1)},easeInOutQuint:function(c){return 1>(c/=.5)?.5*c*c*c*c*c:.5*((c-=2)*c*c*c*c+2)},easeInSine:function(c){return-1*Math.cos(c/1*(Math.PI/2))+1},easeOutSine:function(c){return 1*Math.sin(c/1*(Math.PI/2))},easeInOutSine:function(c){return-.5*(Math.cos(Math.PI*c/
1)-1)},easeInExpo:function(c){return 0==c?1:1*Math.pow(2,10*(c/1-1))},easeOutExpo:function(c){return 1==c?1:1*(-Math.pow(2,-10*c/1)+1)},easeInOutExpo:function(c){return 0==c?0:1==c?1:1>(c/=.5)?.5*Math.pow(2,10*(c-1)):.5*(-Math.pow(2,-10*--c)+2)},easeInCirc:function(c){return 1<=c?c:-1*(Math.sqrt(1-(c/=1)*c)-1)},easeOutCirc:function(c){return 1*Math.sqrt(1-(c=c/1-1)*c)},easeInOutCirc:function(c){return 1>(c/=.5)?-.5*(Math.sqrt(1-c*c)-1):.5*(Math.sqrt(1-(c-=2)*c)+1)},easeInElastic:function(c){var a=
1.70158,b=0,d=1;if(0==c)return 0;if(1==(c/=1))return 1;b||(b=.3);d<Math.abs(1)?(d=1,a=b/4):a=b/(2*Math.PI)*Math.asin(1/d);return-(d*Math.pow(2,10*--c)*Math.sin(2*(1*c-a)*Math.PI/b))},easeOutElastic:function(c){var a=1.70158,b=0,d=1;if(0==c)return 0;if(1==(c/=1))return 1;b||(b=.3);d<Math.abs(1)?(d=1,a=b/4):a=b/(2*Math.PI)*Math.asin(1/d);return d*Math.pow(2,-10*c)*Math.sin(2*(1*c-a)*Math.PI/b)+1},easeInOutElastic:function(c){var a=1.70158,b=0,d=1;if(0==c)return 0;if(2==(c/=.5))return 1;b||(b=.3*1.5);
d<Math.abs(1)?(d=1,a=b/4):a=b/(2*Math.PI)*Math.asin(1/d);return 1>c?-.5*d*Math.pow(2,10*--c)*Math.sin(2*(1*c-a)*Math.PI/b):d*Math.pow(2,-10*--c)*Math.sin(2*(1*c-a)*Math.PI/b)*.5+1},easeInBack:function(c){return 1*(c/=1)*c*(2.70158*c-1.70158)},easeOutBack:function(c){return 1*((c=c/1-1)*c*(2.70158*c+1.70158)+1)},easeInOutBack:function(c){var a=1.70158;return 1>(c/=.5)?.5*c*c*(((a*=1.525)+1)*c-a):.5*((c-=2)*c*(((a*=1.525)+1)*c+a)+2)},easeInBounce:function(c){return 1-ea.easeOutBounce(1-c)},easeOutBounce:function(c){return(c/=
1)<1/2.75?7.5625*c*c:c<2/2.75?1*(7.5625*(c-=1.5/2.75)*c+.75):c<2.5/2.75?1*(7.5625*(c-=2.25/2.75)*c+.9375):1*(7.5625*(c-=2.625/2.75)*c+.984375)},easeInOutBounce:function(c){return.5>c?.5*ea.easeInBounce(2*c):.5*ea.easeOutBounce(2*c-1)+.5}},O=d.canvas.width,T=d.canvas.height;window.devicePixelRatio&&(d.canvas.style.width=O+"px",d.canvas.style.height=T+"px",d.canvas.height=T*window.devicePixelRatio,d.canvas.width=O*window.devicePixelRatio,d.scale(window.devicePixelRatio,window.devicePixelRatio));this.PolarArea=
function(c,a){n.PolarArea.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,scaleOverlay:!0,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,
scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,
animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90};n.PolarArea.defaults=K(n.defaults.commonOptions,n.PolarArea.defaults);n.PolarArea.defaults=K(n.PolarArea.defaults,charJSPersonalDefaultOptions);n.PolarArea.defaults=K(n.PolarArea.defaults,charJSPersonalDefaultOptionsPolarArea);var b=a?K(n.PolarArea.defaults,a):n.PolarArea.defaults;return new ma(c,b,d)};this.Radar=function(c,a){n.Radar.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,
inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,yAxisMinimumInterval:"none",scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleShowLabels2:!0,scaleLabel:"<%=value%>",
scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetFill:!0,datasetStrokeWidth:2,animation:!0,animationSteps:60,
animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",startAngle:90,graphMaximized:!1};n.Radar.defaults=K(n.defaults.commonOptions,n.Radar.defaults);n.Radar.defaults=K(n.Radar.defaults,charJSPersonalDefaultOptions);n.Radar.defaults=K(n.Radar.defaults,charJSPersonalDefaultOptionsRadar);var b=a?K(n.Radar.defaults,a):n.Radar.defaults;return new na(c,b,d)};this.Pie=function(c,
a){n.Pie.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,inGraphDataMinimumAngle:0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,
animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1};n.Pie.defaults=K(n.defaults.commonOptions,n.Pie.defaults);n.Pie.defaults=K(n.Pie.defaults,charJSPersonalDefaultOptions);n.Pie.defaults=K(n.Pie.defaults,charJSPersonalDefaultOptionsPie);var b=a?K(n.Pie.defaults,a):n.Pie.defaults;return new oa(c,b,d)};this.Doughnut=function(c,a){n.Doughnut.defaults=
{inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,inGraphDataMinimumAngle:0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,
animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1};n.Doughnut.defaults=K(n.defaults.commonOptions,n.Doughnut.defaults);n.Doughnut.defaults=K(n.Doughnut.defaults,charJSPersonalDefaultOptions);n.Doughnut.defaults=K(n.Doughnut.defaults,charJSPersonalDefaultOptionsDoughnut);var b=a?K(n.Doughnut.defaults,a):n.Doughnut.defaults;return new pa(c,
b,d)};this.Line=function(c,a){n.Line.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",drawXScaleLine:[{position:"bottom"}],scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleSteps2:null,scaleStepWidth2:null,
scaleStartValue2:null,scaleLabel2:"<%=value%>",scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,logarithmic2:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,
scaleTickSizeTop:5,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",extrapolateMissingData:!0,onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>"};n.Line.defaults=K(n.defaults.commonOptions,n.Line.defaults);n.Line.defaults=K(n.defaults.xyAxisCommonOptions,n.Line.defaults);n.Line.defaults=
K(n.Line.defaults,charJSPersonalDefaultOptions);n.Line.defaults=K(n.Line.defaults,charJSPersonalDefaultOptionsLine);var b=a?K(n.Line.defaults,a):n.Line.defaults;return new qa(c,b,d)};this.StackedBar=function(c,a){n.StackedBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:-3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"top",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",
inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",
scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"};n.StackedBar.defaults=K(n.defaults.commonOptions,n.StackedBar.defaults);n.StackedBar.defaults=K(n.defaults.xyAxisCommonOptions,
n.StackedBar.defaults);n.StackedBar.defaults=K(n.StackedBar.defaults,charJSPersonalDefaultOptions);n.StackedBar.defaults=K(n.StackedBar.defaults,charJSPersonalDefaultOptionsStackedBar);var b=a?K(n.StackedBar.defaults,a):n.StackedBar.defaults;return new ra(c,b,d)};this.HorizontalStackedBar=function(c,a){n.HorizontalStackedBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:-3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"right",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",
inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,
scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",reverseOrder:!1};
n.HorizontalStackedBar.defaults=K(n.defaults.commonOptions,n.HorizontalStackedBar.defaults);n.HorizontalStackedBar.defaults=K(n.defaults.xyAxisCommonOptions,n.HorizontalStackedBar.defaults);n.HorizontalStackedBar.defaults=K(n.HorizontalStackedBar.defaults,charJSPersonalDefaultOptions);n.HorizontalStackedBar.defaults=K(n.HorizontalStackedBar.defaults,charJSPersonalDefaultOptionsHorizontalStackedBar);var b=a?K(n.HorizontalStackedBar.defaults,a):n.HorizontalStackedBar.defaults;return new sa(c,b,d)};
this.Bar=function(c,a){n.Bar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,
scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,logarithmic2:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,
animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"};n.Bar.defaults=K(n.defaults.commonOptions,n.Bar.defaults);n.Bar.defaults=K(n.defaults.xyAxisCommonOptions,n.Bar.defaults);n.Bar.defaults=K(n.Bar.defaults,charJSPersonalDefaultOptions);n.Bar.defaults=K(n.Bar.defaults,charJSPersonalDefaultOptionsBar);var b=a?K(n.Bar.defaults,
a):n.Bar.defaults;return new ta(c,b,d)};this.HorizontalBar=function(c,a){n.HorizontalBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,
scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,
barDatasetSpacing:1,barBorderRadius:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",reverseOrder:!1};n.HorizontalBar.defaults=K(n.defaults.commonOptions,n.HorizontalBar.defaults);n.HorizontalBar.defaults=K(n.defaults.xyAxisCommonOptions,n.HorizontalBar.defaults);n.HorizontalBar.defaults=K(n.HorizontalBar.defaults,
charJSPersonalDefaultOptions);n.HorizontalBar.defaults=K(n.HorizontalBar.defaults,charJSPersonalDefaultOptionsHorizontalBar);var b=a?K(n.HorizontalBar.defaults,a):n.HorizontalBar.defaults;return new ua(c,b,d)};n.defaults={};n.defaults.commonOptions={multiGraph:!1,clearRect:!0,dynamicDisplay:!1,graphSpaceBefore:5,graphSpaceAfter:5,canvasBorders:!1,canvasBackgroundColor:"none",canvasBordersWidth:3,canvasBordersColor:"black",graphTitle:"",graphTitleFontFamily:"'Arial'",graphTitleFontSize:24,graphTitleFontStyle:"bold",
graphTitleFontColor:"#666",graphTitleSpaceBefore:5,graphTitleSpaceAfter:5,graphSubTitle:"",graphSubTitleFontFamily:"'Arial'",graphSubTitleFontSize:18,graphSubTitleFontStyle:"normal",graphSubTitleFontColor:"#666",graphSubTitleSpaceBefore:5,graphSubTitleSpaceAfter:5,footNote:"",footNoteFontFamily:"'Arial'",footNoteFontSize:8,footNoteFontStyle:"bold",footNoteFontColor:"#666",footNoteSpaceBefore:5,footNoteSpaceAfter:5,legend:!1,showSingleLegend:!1,maxLegendCols:999,legendPosY:4,legendPosX:-2,legendFontFamily:"'Arial'",
legendFontSize:12,legendFontStyle:"normal",legendFontColor:"#666",legendBlockSize:15,legendBorders:!0,legendBordersWidth:1,legendBordersColors:"#666",legendBordersSpaceBefore:5,legendBordersSpaceAfter:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendSpaceBeforeText:5,legendSpaceAfterText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceBetweenTextVertical:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenBoxAndText:5,legendFillColor:"rgba(0,0,0,0)",legendXPadding:0,legendYPadding:0,
annotateDisplay:!1,savePng:!1,savePngOutput:"NewWindow",savePngFunction:"mousedown right",savePngBackgroundColor:"WHITE",annotateFunction:"mousemove",annotateFontFamily:"'Arial'",annotateBorder:"none",annotateBorderRadius:"2px",annotateBackgroundColor:"rgba(0,0,0,0.8)",annotateFontSize:12,annotateFontColor:"white",annotateFontStyle:"normal",annotatePadding:"3px",annotateClassName:"",crossText:[""],crossTextIter:["all"],crossTextOverlay:[!0],crossTextFontFamily:["'Arial'"],crossTextFontSize:[12],crossTextFontStyle:["normal"],
crossTextFontColor:["rgba(220,220,220,1)"],crossTextRelativePosX:[2],crossTextRelativePosY:[2],crossTextBaseline:["middle"],crossTextAlign:["center"],crossTextPosX:[0],crossTextPosY:[0],crossTextAngle:[0],crossTextFunction:null,crossImage:[void 0],crossImageIter:["all"],crossImageOverlay:[!0],crossImageRelativePosX:[2],crossImageRelativePosY:[2],crossImageBaseline:["middle"],crossImageAlign:["center"],crossImagePosX:[0],crossImagePosY:[0],crossImageAngle:[0],spaceTop:0,spaceBottom:0,spaceRight:0,
spaceLeft:0,decimalSeparator:".",thousandSeparator:"",roundNumber:"none",roundPct:-1,fmtV1:"none",fmtV2:"none",fmtV3:"none",fmtV4:"none",fmtV5:"none",fmtV6:"none",fmtV7:"none",fmtV8:"none",fmtV9:"none",fmtV10:"none",fmtV11:"none",fmtV12:"none",fmtV13:"none",fmtXLabel:"none",fmtYLabel:"none",fmtYLabel2:"none",fmtLegend:"none",animationStartValue:0,animationStopValue:1,animationCount:1,animationPauseTime:5,animationBackward:!1,animationStartWithDataset:1,animationStartWithData:1,animationLeftToRight:!1,
animationByDataset:!1,defaultStrokeColor:"rgba(220,220,220,1)",defaultFillColor:"rgba(220,220,220,0.5)",mouseDownRight:null,mouseDownLeft:null,mouseDownMiddle:null,mouseMove:null,mouseOut:null,mouseWheel:null,savePngName:"canvas",responsive:!1,maintainAspectRatio:!0};n.defaults.xyAxisCommonOptions={yAxisMinimumInterval:"none",yAxisMinimumInterval2:"none",yScaleLabelsMinimumWidth:0,xScaleLabelsMinimumWidth:0,yAxisLeft:!0,yAxisRight:!1,xAxisBottom:!0,xAxisTop:!1,xAxisSpaceBetweenLabels:5,fullWidthGraph:!1,
yAxisLabel:"",yAxisLabel2:"",yAxisFontFamily:"'Arial'",yAxisFontSize:16,yAxisFontStyle:"normal",yAxisFontColor:"#666",yAxisLabelSpaceRight:5,yAxisLabelSpaceLeft:5,yAxisSpaceRight:5,yAxisSpaceLeft:5,xAxisLabel:"",xAxisFontFamily:"'Arial'",xAxisFontSize:16,xAxisFontStyle:"normal",xAxisFontColor:"#666",xAxisLabelSpaceBefore:5,xAxisLabelSpaceAfter:5,xAxisSpaceBefore:5,xAxisSpaceAfter:5,yAxisUnit:"",yAxisUnit2:"",yAxisUnitFontFamily:"'Arial'",yAxisUnitFontSize:8,yAxisUnitFontStyle:"normal",yAxisUnitFontColor:"#666",
yAxisUnitSpaceBefore:5,yAxisUnitSpaceAfter:5};var ma=function(c,a,b){function d(e){for(var h=Math.PI/180*-a.startAngle+2*Math.PI,f=0,G=0,p=1,s=1,k=G=0;k<c.length;k++)"undefined"!=typeof c[k].value&&G++;for(G=2*Math.PI/G;0>h;)h+=2*Math.PI;for(;h>2*Math.PI;)h-=2*Math.PI;a.animation&&(a.animateScale&&(p=e),a.animateRotate&&(s=e));if(1<=e)for(k=totvalue=0;k<c.length;k++)"undefined"!=typeof c[k].value&&(totvalue+=1*c[k].value);for(k=0;k<c.length;k++)correctedRotateAnimation=animationCorrection(s,c,a,k,
-1,0).mainVal,"undefined"!=typeof c[k].value&&(b.beginPath(),b.arc(u,r,p*g(a.logarithmic,1*c[k].value,w,aa),h,h+correctedRotateAnimation*G,!1),b.lineTo(u,r),b.closePath(),b.fillStyle="function"==typeof c[k].color?c[k].color("COLOR",c,a,k,-1,e,c[k].value,"PolarArea",b,u,r,0,p*g(a.logarithmic,1*c[k].value,w,aa)):c[k].color,b.fill(),h+=G,a.segmentShowStroke&&(b.strokeStyle=a.segmentStrokeColor,b.lineWidth=a.segmentStrokeWidth,b.stroke()));if(1<=e)for(h-=2*Math.PI,k=0;k<c.length;k++)"undefined"!=typeof c[k].value&&
(f+=1*c[k].value,h+=G,lgtxt="string"==typeof c[k].title?c[k].title.trim():"",jsGraphAnnotate[b.ChartNewId][jsGraphAnnotate[b.ChartNewId].length]=["ARC",u,r,0,g(a.logarithmic,1*c[k].value,w,aa),h-G,h,lgtxt,1*c[k].value,f,totvalue,G,k],a.inGraphDataShow&&(1==a.inGraphDataAnglePosition?posAngle=B+Math.PI/180*a.inGraphDataPaddingAngle:2==a.inGraphDataAnglePosition?posAngle=B-G/2+Math.PI/180*a.inGraphDataPaddingAngle:3==a.inGraphDataAnglePosition&&(posAngle=B-G+Math.PI/180*a.inGraphDataPaddingAngle),1==
a.inGraphDataRadiusPosition?labelRadius=0+a.inGraphDataPaddingRadius:2==a.inGraphDataRadiusPosition?labelRadius=g(a.logarithmic,1*c[k].value,w,aa)/2+a.inGraphDataPaddingRadius:3==a.inGraphDataRadiusPosition?labelRadius=g(a.logarithmic,1*c[k].value,w,aa)+a.inGraphDataPaddingRadius:4==a.inGraphDataRadiusPosition&&(labelRadius=aa*w.steps+a.inGraphDataPaddingRadius),b.save(),b.textAlign="off-center"==a.inGraphDataAlign?"inRadiusAxis"==a.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||
(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==a.inGraphDataAlign?"inRadiusAxis"==a.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":a.inGraphDataAlign,b.textBaseline="off-center"==a.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":"to-center"==a.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":a.inGraphDataVAlign,b.font=a.inGraphDataFontStyle+" "+a.inGraphDataFontSize+
"px "+a.inGraphDataFontFamily,b.fillStyle=a.inGraphDataFontColor,e=tmplbis(a.inGraphDataTmpl,{config:a,v1:fmtChartJS(a,lgtxt,a.fmtV1),v2:fmtChartJS(a,1*c[k].value,a.fmtV2),v3:fmtChartJS(a,f,a.fmtV3),v4:fmtChartJS(a,totvalue,a.fmtV4),v5:fmtChartJS(a,G,a.fmtV5),v6:roundToWithThousands(a,fmtChartJS(a,100*c[k].value/totvalue,a.fmtV6),a.roundPct),v7:fmtChartJS(a,u,a.fmtV7),v8:fmtChartJS(a,r,a.fmtV8),v9:fmtChartJS(a,0,a.fmtV9),v10:fmtChartJS(a,g(a.logarithmic,1*c[k].value,w,aa),a.fmtV10),v11:fmtChartJS(a,
h-G,a.fmtV11),v12:fmtChartJS(a,G,a.fmtV12),v13:fmtChartJS(a,k,a.fmtV13),data:c}),b.translate(u+labelRadius*Math.cos(posAngle),r-labelRadius*Math.sin(posAngle)),"inRadiusAxis"==a.inGraphDataRotate?b.rotate(2*Math.PI-posAngle):"inRadiusAxisRotateLabels"==a.inGraphDataRotate?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?b.rotate(3*Math.PI-posAngle):b.rotate(2*Math.PI-posAngle):b.rotate(Math.PI/180*a.inGraphDataRotate),b.fillTextMultiLine(e,0,0,b.textBaseline,
a.inGraphDataFontSize),b.restore()),B-=G);m.legendMsr.dispLegend&&drawLegend(m.legendMsr,c,a,b,"PolarArea")}function e(){for(var c=0;c<w.steps;c++)if(a.scaleShowLine&&(b.beginPath(),b.arc(u,r,aa*(c+1),0,2*Math.PI,!0),b.strokeStyle=a.scaleLineColor,b.lineWidth=a.scaleLineWidth,b.stroke()),a.scaleShowLabels){b.textAlign="center";b.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily;var d=w.labels[c+1];if(a.scaleShowLabelBackdrop){var f=b.measureTextMultiLine(d,a.scaleFontSize).textWidth;
b.fillStyle=a.scaleBackdropColor;b.beginPath();b.rect(Math.round(u-f/2-a.scaleBackdropPaddingX),Math.round(r-aa*(c+1)-.5*a.scaleFontSize-a.scaleBackdropPaddingY),Math.round(f+2*a.scaleBackdropPaddingX),Math.round(a.scaleFontSize+2*a.scaleBackdropPaddingY));b.fill()}b.textBaseline="middle";b.fillStyle=a.scaleFontColor;b.fillTextMultiLine(d,u,r-aa*(c+1),b.textBaseline,a.scaleFontSize)}}function n(){for(var b=Number.MIN_VALUE,d=Number.MAX_VALUE,e=0;e<c.length;e++)1*c[e].value>b&&(b=1*c[e].value),1*c[e].value<
d&&(d=1*c[e].value);1E-8>Math.abs(b-d)&&(b=V([2*b,1]),d=0);isNaN(a.graphMin)||(d=a.graphMin);isNaN(a.graphMax)||(b=a.graphMax);return{maxValue:b,minValue:d,maxSteps:Math.floor(v/(.66*A)),minSteps:Math.floor(v/A*.5)}}var aa,w,A,v,E,F,m,u,r;b.tpchart="PolarArea";f(b);if(dynamicFunction(c,a,b)){if(a.responsive&&"undefined"==typeof b.firstPass)if(a.multiGraph)b.firstPass=1;else{addResponsiveChart(b.ChartNewId,b,c,a);subUpdateChart(b,c,a);return}for(var B=Math.PI/180*a.startAngle+2*Math.PI;0>a.startAngle;)a.startAngle+=
360;for(;360<a.startAngle;)a.startAngle-=360;for(;0>B;)B+=2*Math.PI;for(;B>2*Math.PI;)B-=2*Math.PI;a.logarithmic=!1;a.logarithmic2=!1;"undefined"==typeof jsGraphAnnotate[b.ChartNewId]?jsGraphAnnotate[b.ChartNewId]=[]:a.multiGraph||clearAnnotate(b.ChartNewId);Z(b,c,a);Y(b,a);E=n();F=a.scaleShowLabels?a.scaleLabel:"";a.scaleOverride?(w={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,graphMax:a.scaleStartValue+a.scaleSteps*a.scaleStepWidth,labels:[]},Q(1,a,F,w.labels,w.steps,
a.scaleStartValue,w.graphMax,a.scaleStepWidth)):w=J(1,a,E.maxSteps,E.minSteps,E.maxValue,E.minValue,F);m=R(c,a,b,T,O,w.labels,null,!0,!1,!1,!1,!0,"PolarArea");u=m.leftNotUsableSize+m.availableWidth/2;r=m.topNotUsableSize+m.availableHeight/2;aa=Math.floor((I([m.availableHeight,m.availableWidth])/2-5)/w.steps);0<aa?H(a,e,d,b,m.clrx,m.clry,m.clrwidth,m.clrheight,u,r,u-(I([m.availableHeight,m.availableWidth])/2-5),r+(I([m.availableHeight,m.availableWidth])/2-5),c):testRedraw(b,c,a)}else a.responsive&&
"undefined"==typeof b.firstPass&&(a.multiGraph||addResponsiveChart(b.ChartNewId,b,c,a))},na=function(c,a,b){function d(e){for(var f=[],G=[],p=[],s=0;s<c.datasets.length;s++){p[s]=-999999999;for(var k=0;k<c.datasets[s].data.length;k++)f[k]=0,G[k]=-999999999}for(s=0;s<c.datasets.length;s++)for(k=0;k<c.datasets[s].data.length;k++)"undefined"!=typeof c.datasets[s].data[k]&&(f[k]+=1*c.datasets[s].data[k],G[k]=V([G[k],1*c.datasets[s].data[k]]),p[s]=V([p[s],1*c.datasets[s].data[k]]));var l=2*Math.PI/c.datasets[0].data.length;
b.save();for(s=0;s<c.datasets.length;s++){1<=e&&(lgtxt="string"==typeof c.datasets[s].title?c.datasets[s].title.trim():"");for(var q=-1,k=0;k<c.datasets[s].data.length;k++){var z=animationCorrection(e,c,a,s,k,1).animVal;1<z&&--z;"undefined"!=typeof c.datasets[s].data[k]&&(-1==q?(b.beginPath(),b.moveTo(B+z*Math.cos(a.startAngle*Math.PI/180-k*l)*g(a.logarithmic,c.datasets[s].data[k],v,A),D-z*Math.sin(a.startAngle*Math.PI/180-k*l)*g(a.logarithmic,c.datasets[s].data[k],v,A)),q=k):b.lineTo(B+z*Math.cos(a.startAngle*
Math.PI/180-k*l)*g(a.logarithmic,c.datasets[s].data[k],v,A),D-z*Math.sin(a.startAngle*Math.PI/180-k*l)*g(a.logarithmic,c.datasets[s].data[k],v,A)),1<=e&&(divprev=0==s?0:c.datasets[s].data[k]-c.datasets[s-1].data[k],divnext=s==c.datasets.length-1?0:c.datasets[s+1].data[k]-c.datasets[s].data[k],lgtxt2="string"==typeof c.labels[k]?c.labels[k].trim():"",jsGraphAnnotate[b.ChartNewId][jsGraphAnnotate[b.ChartNewId].length]=["POINT",B+Math.cos(a.startAngle*Math.PI/180-k*l)*g(a.logarithmic,c.datasets[s].data[k],
v,A),D-Math.sin(a.startAngle*Math.PI/180-k*l)*g(a.logarithmic,c.datasets[s].data[k],v,A),lgtxt,lgtxt2,1*c.datasets[s].data[k],divprev,divnext,G[k],f[k],s,k]))}b.closePath();b.fillStyle=a.datasetFill?"function"==typeof c.datasets[s].fillColor?c.datasets[s].fillColor("FILLCOLOR",c,a,s,-1,z,-1,"Radar",b,B,D,0,(a.animationLeftToRight?1:z)*g(a.logarithmic,p[s],v,A)):"string"==typeof c.datasets[s].fillColor?c.datasets[s].fillColor:a.defaultFillColor:"rgba(0,0,0,0)";b.strokeStyle="function"==typeof c.datasets[s].strokeColor?
c.datasets[s].strokeColor("STROKECOLOR",c,a,s,-1,z,-1,"Radar",b,B,D,0,(a.animationLeftToRight?1:z)*g(a.logarithmic,p[s],v,A)):"string"==typeof c.datasets[s].strokeColor?c.datasets[s].strokeColor:a.defaultStrokeColor;b.lineWidth=a.datasetStrokeWidth;b.fill();b.stroke();if(a.pointDot&&(!a.animationLeftToRight||a.animationLeftToRight&&1<=e))for(b.beginPath(),b.fillStyle="function"==typeof c.datasets[s].pointColor?c.datasets[s].pointColor("POINTCOLOR",c,a,s,-1,z,-1,"Radar",b,B,D,0,(a.animationLeftToRight?
1:z)*g(a.logarithmic,p[s],v,A)):c.datasets[s].pointColor,b.strokeStyle="function"==typeof c.datasets[s].pointStrokeColor?c.datasets[s].pointStrokeColor("POINTSTROKECOLOR",c,a,s,-1,z,-1,"Radar",b,B,D,0,(a.animationLeftToRight?1:z)*g(a.logarithmic,p[s],v,A)):c.datasets[s].pointStrokeColor,b.lineWidth=a.pointDotStrokeWidth,k=0;k<c.datasets[s].data.length;k++)"undefined"!=typeof c.datasets[s].data[k]&&(b.beginPath(),b.arc(B+z*Math.cos(a.startAngle*Math.PI/180-k*l)*g(a.logarithmic,c.datasets[s].data[k],
v,A),D-z*Math.sin(a.startAngle*Math.PI/180-k*l)*g(a.logarithmic,c.datasets[s].data[k],v,A),a.pointDotRadius,2*Math.PI,!1),b.fill(),b.stroke())}b.restore();if(1<=e&&a.inGraphDataShow)for(s=0;s<c.datasets.length;s++)for(lgtxt="string"==typeof c.datasets[s].title?c.datasets[s].title.trim():"",k=0;k<c.datasets[s].data.length;k++)if("undefined"!=typeof c.datasets[s].data[k]){divprev=0==s?0:c.datasets[s].data[k]-c.datasets[s-1].data[k];divnext=s==c.datasets.length-1?0:c.datasets[s+1].data[k]-c.datasets[s].data[k];
lgtxt2="string"==typeof c.labels[k]?c.labels[k].trim():"";b.save();b.textAlign=a.inGraphDataAlign;b.textBaseline=a.inGraphDataVAlign;b.textAlign="off-center"==a.inGraphDataAlign?"inRadiusAxis"==a.inGraphDataRotate||(a.startAngle*Math.PI/180-k*l+4*Math.PI)%(2*Math.PI)>3*Math.PI/2||(a.startAngle*Math.PI/180-k*l+4*Math.PI)%(2*Math.PI)<=Math.PI/2?"left":"right":"to-center"==a.inGraphDataAlign?"inRadiusAxis"==a.inGraphDataRotate||(a.startAngle*Math.PI/180-k*l+4*Math.PI)%(2*Math.PI)>3*Math.PI/2||(a.startAngle*
Math.PI/180-k*l+4*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":a.inGraphDataAlign;b.textBaseline="off-center"==a.inGraphDataVAlign?(a.startAngle*Math.PI/180-k*l+4*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":"to-center"==a.inGraphDataVAlign?(a.startAngle*Math.PI/180-k*l+4*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":a.inGraphDataVAlign;b.font=a.inGraphDataFontStyle+" "+a.inGraphDataFontSize+"px "+a.inGraphDataFontFamily;b.fillStyle=a.inGraphDataFontColor;var u;1==a.inGraphDataRadiusPosition?u=0+a.inGraphDataPaddingRadius:
2==a.inGraphDataRadiusPosition?u=g(a.logarithmic,c.datasets[s].data[k],v,A)/2+a.inGraphDataPaddingRadius:3==a.inGraphDataRadiusPosition&&(u=g(a.logarithmic,c.datasets[s].data[k],v,A)+a.inGraphDataPaddingRadius);b.translate(B+Math.cos(a.startAngle*Math.PI/180-k*l)*u,D-Math.sin(a.startAngle*Math.PI/180-k*l)*u);"inRadiusAxis"==a.inGraphDataRotate?b.rotate(k*l):"inRadiusAxisRotateLabels"==a.inGraphDataRotate?(k*l+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(k*l+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?b.rotate(3*Math.PI+
k*l):b.rotate(2*Math.PI+k*l):b.rotate(Math.PI/180*a.inGraphDataRotate);e=tmplbis(a.inGraphDataTmpl,{config:a,v1:fmtChartJS(a,lgtxt,a.fmtV1),v2:fmtChartJS(a,lgtxt2,a.fmtV2),v3:fmtChartJS(a,1*c.datasets[s].data[k],a.fmtV3),v4:fmtChartJS(a,divprev,a.fmtV4),v5:fmtChartJS(a,divnext,a.fmtV5),v6:fmtChartJS(a,G[k],a.fmtV6),v7:fmtChartJS(a,f[k],a.fmtV7),v8:roundToWithThousands(a,fmtChartJS(a,100*c.datasets[s].data[k]/f[k],a.fmtV8),a.roundPct),v9:fmtChartJS(a,B+Math.cos(a.startAngle*Math.PI/180-k*l)*g(a.logarithmic,
c.datasets[s].data[k],v,A),a.fmtV9),v10:fmtChartJS(a,D-Math.sin(a.startAngle*Math.PI/180-k*l)*g(a.logarithmic,c.datasets[s].data[k],v,A),a.fmtV10),v11:fmtChartJS(a,s,a.fmtV11),v12:fmtChartJS(a,k,a.fmtV12),data:c});b.fillTextMultiLine(e,0,0,b.textBaseline,a.inGraphDataFontSize);b.restore()}r.legendMsr.dispLegend&&drawLegend(r.legendMsr,c,a,b,"Radar")}function e(){var d=2*Math.PI/c.datasets[0].data.length;b.save();b.translate(B,D);b.rotate((90-a.startAngle)*Math.PI/180);if(a.angleShowLineOut){b.strokeStyle=
a.angleLineColor;b.lineWidth=a.angleLineWidth;for(var f=0;f<c.datasets[0].data.length;f++)b.rotate(d),b.beginPath(),b.moveTo(0,0),b.lineTo(0,-w),b.stroke()}for(f=0;f<v.steps;f++)if(b.beginPath(),a.scaleShowLine){b.strokeStyle=a.scaleLineColor;b.lineWidth=a.scaleLineWidth;b.moveTo(0,-A*(f+1));for(var G=0;G<c.datasets[0].data.length;G++)b.rotate(d),b.lineTo(0,-A*(f+1));b.closePath();b.stroke()}b.rotate(-(90-a.startAngle)*Math.PI/180);if(a.scaleShowLabels)for(f=0;f<v.steps;f++)b.textAlign="center",b.font=
a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,b.textBaseline="middle",a.scaleShowLabelBackdrop&&(G=b.measureTextMultiLine(v.labels[f+1],a.scaleFontSize).textWidth,b.fillStyle=a.scaleBackdropColor,b.beginPath(),b.rect(Math.round(Math.cos(a.startAngle*Math.PI/180)*A*(f+1)-G/2-a.scaleBackdropPaddingX),Math.round(-Math.sin(a.startAngle*Math.PI/180)*A*(f+1)-.5*a.scaleFontSize-a.scaleBackdropPaddingY),Math.round(G+2*a.scaleBackdropPaddingX),Math.round(a.scaleFontSize+2*a.scaleBackdropPaddingY)),
b.fill()),b.fillStyle=a.scaleFontColor,b.fillTextMultiLine(v.labels[f+1],Math.cos(a.startAngle*Math.PI/180)*A*(f+1),-Math.sin(a.startAngle*Math.PI/180)*A*(f+1),b.textBaseline,a.scaleFontSize);for(f=0;f<c.labels.length;f++){b.font=a.pointLabelFontStyle+" "+a.pointLabelFontSize+"px "+a.pointLabelFontFamily;b.fillStyle=a.pointLabelFontColor;for(var G=Math.sin((90-a.startAngle)*Math.PI/180+d*f)*(w+a.pointLabelFontSize),p=Math.cos((90-a.startAngle)*Math.PI/180+d*f)*(w+a.pointLabelFontSize),r=(90-a.startAngle)*
Math.PI/180+d*f;0>r;)r+=2*Math.PI;for(;r>2*Math.PI;)r-=2*Math.PI;b.textAlign=r==Math.PI||0==r?"center":r>Math.PI?"right":"left";b.textBaseline="middle";b.fillTextMultiLine(c.labels[f],G,-p,b.textBaseline,a.pointLabelFontSize)}b.restore()}function n(){var d,e,f,p,g,k,l,q=2*Math.PI/c.datasets[0].data.length,z=a.startAngle*Math.PI/180;b.font=a.pointLabelFontStyle+" "+a.pointLabelFontSize+"px "+a.pointLabelFontFamily;if(a.graphMaximized){p=r.availableWidth/2;f=r.availableWidth/2;k=40;for(var u=0;u<c.labels.length;u++){var A=
b.measureTextMultiLine(c.labels[u],a.scaleFontSize).textWidth+b.measureTextMultiLine(c.labels[u],a.scaleFontSize).textHeight;e=(r.availableWidth-A)/(1+Math.abs(Math.cos(z)));z<Math.PI/2&&z>-Math.PI/2||z>3*Math.PI/2?e<p&&(p=e):0!=Math.cos(z)&&e<f&&(f=e);z-=q}}else p=r.availableWidth/2,f=r.availableWidth/2,k=1;l=0;B=p+r.rightNotUsableSize;d=p;for(g=0;g<k;++g,d+=(r.availableWidth-f-p)/k){w=V([d,r.availableWidth-d]);z=a.startAngle*Math.PI/180;e=r.available;for(u=0;u<c.labels.length;u++)A=b.measureTextMultiLine(c.labels[u],
a.scaleFontSize).textWidth+b.measureTextMultiLine(c.labels[u],a.scaleFontSize).textHeight,z<Math.PI/2&&z>-Math.PI/2||z>3*Math.PI/2?e=(r.availableWidth-d-A)/Math.abs(Math.cos(z)):Math.cos(0!=z)&&(e=(d-A)/Math.abs(Math.cos(z))),e<w&&(w=e),Math.sin(z)*r.availableHeight/2>r.availableHeight/2-2*a.scaleFontSize&&(e=Math.sin(z)*r.availableHeight/2-1.5*a.scaleFontSize,e<w&&(w=e)),z-=q;w>l&&(l=w,B=d+r.rightNotUsableSize)}w=l-a.scaleFontSize/2;E||(E=5)}function I(){for(var b=Number.MIN_VALUE,d=Number.MAX_VALUE,
e=0;e<c.datasets.length;e++)for(var f=0;f<c.datasets[e].data.length;f++)1*c.datasets[e].data[f]>b&&(b=1*c.datasets[e].data[f]),1*c.datasets[e].data[f]<d&&(d=1*c.datasets[e].data[f]);1E-8>Math.abs(b-d)&&(b=V([2*b,1]),d=0);isNaN(a.graphMin)||(d=a.graphMin);isNaN(a.graphMax)||(b=a.graphMax);return{maxValue:b,minValue:d,maxSteps:Math.floor(F/(.66*E)),minSteps:Math.floor(F/E*.5)}}var w,A,v,E,F,m,u,r,B,D;b.tpchart="Radar";f(b);if(dynamicFunction(c,a,b)){if(a.responsive&&"undefined"==typeof b.firstPass)if(a.multiGraph)b.firstPass=
1;else{addResponsiveChart(b.ChartNewId,b,c,a);subUpdateChart(b,c,a);return}for(;0>a.startAngle;)a.startAngle+=360;for(;360<a.startAngle;)a.startAngle-=360;a.logarithmic=!1;a.logarithmic2=!1;"undefined"==typeof jsGraphAnnotate[b.ChartNewId]?jsGraphAnnotate[b.ChartNewId]=[]:a.multiGraph||clearAnnotate(b.ChartNewId);Z(b,c,a);c.labels||(c.labels=[]);Y(b,a);m=I();u=a.scaleShowLabels?a.scaleLabel:"";a.scaleOverride?(v={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,graphMax:a.scaleStartValue+
a.scaleSteps*a.scaleStepWidth,labels:[]},Q(1,a,u,v.labels,v.steps,a.scaleStartValue,v.graphMax,a.scaleStepWidth)):v=J(1,a,m.maxSteps,m.minSteps,m.maxValue,m.minValue,u);r=R(c,a,b,T,O,v.labels,null,!0,!1,!1,!0,a.datasetFill,"Radar");n();D=r.topNotUsableSize+r.availableHeight/2;A=w/v.steps;H(a,e,d,b,r.clrx,r.clry,r.clrwidth,r.clrheight,B,D,B-w,D+w,c)}else a.responsive&&"undefined"==typeof b.firstPass&&(a.multiGraph||addResponsiveChart(b.ChartNewId,b,c,a))},oa=function(c,a,b){function d(e){for(var f=
Math.PI/180*-a.startAngle+2*Math.PI,u=0,r=1,B=1,D=Math.PI/180*a.startAngle+2*Math.PI;0>f;)f+=2*Math.PI;for(;f>2*Math.PI;)f-=2*Math.PI;for(;0>D;)D+=2*Math.PI;for(;D>2*Math.PI;)D-=2*Math.PI;a.animation&&(a.animateScale&&(r=e),a.animateRotate&&(B=e));if(1<=e)for(var h=totvalue=0;h<c.length;h++)"undefined"!=typeof c[h].value&&(totvalue+=1*c[h].value);for(h=0;h<c.length;h++)if(correctedRotateAnimation=animationCorrection(B,c,a,h,-1,0).mainVal,"undefined"!=typeof c[h].value){var C=1*c[h].value/g*correctedRotateAnimation*
2*Math.PI;C>=2*Math.PI&&(C=2*Math.PI-.001);b.beginPath();b.arc(w,A,r*v,f,f+C);b.lineTo(w,A);b.closePath();b.fillStyle="function"==typeof c[h].color?c[h].color("COLOR",c,a,h,-1,e,c[h].value,"Pie",b,w,A,0,r*v):c[h].color;b.fill();f+=C;u+=1*c[h].value;a.segmentShowStroke&&(b.lineWidth=a.segmentStrokeWidth,b.strokeStyle=a.segmentStrokeColor,b.stroke())}if(1<=e)for(f-=2*Math.PI,h=0;h<c.length;h++)correctedRotateAnimation=animationCorrection(B,c,a,h,-1,0).mainVal,"undefined"!=typeof c[h].value&&(C=1*c[h].value/
g*correctedRotateAnimation*2*Math.PI,C>=2*Math.PI&&(C=2*Math.PI-.001),f+=C,u+=1*c[h].value,lgtxt="string"==typeof c[h].title?c[h].title.trim():"",jsGraphAnnotate[b.ChartNewId][jsGraphAnnotate[b.ChartNewId].length]=["ARC",w,A,0,v,f-C,f,lgtxt,1*c[h].value,u,totvalue,C,h],a.inGraphDataShow&&C>=Math.PI/180*a.inGraphDataMinimumAngle&&(1==a.inGraphDataAnglePosition?posAngle=D+Math.PI/180*a.inGraphDataPaddingAngle:2==a.inGraphDataAnglePosition?posAngle=D-C/2+Math.PI/180*a.inGraphDataPaddingAngle:3==a.inGraphDataAnglePosition&&
(posAngle=D-C+Math.PI/180*a.inGraphDataPaddingAngle),1==a.inGraphDataRadiusPosition?labelRadius=0+a.inGraphDataPaddingRadius:2==a.inGraphDataRadiusPosition?labelRadius=v/2+a.inGraphDataPaddingRadius:3==a.inGraphDataRadiusPosition&&(labelRadius=v+a.inGraphDataPaddingRadius),b.save(),b.textAlign="off-center"==a.inGraphDataAlign?"inRadiusAxis"==a.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==a.inGraphDataAlign?
"inRadiusAxis"==a.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":a.inGraphDataAlign,b.textBaseline="off-center"==a.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":"to-center"==a.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":a.inGraphDataVAlign,b.font=a.inGraphDataFontStyle+" "+a.inGraphDataFontSize+"px "+a.inGraphDataFontFamily,b.fillStyle=a.inGraphDataFontColor,e=tmplbis(a.inGraphDataTmpl,
{config:a,v1:fmtChartJS(a,lgtxt,a.fmtV1),v2:fmtChartJS(a,1*c[h].value,a.fmtV2),v3:fmtChartJS(a,u,a.fmtV3),v4:fmtChartJS(a,totvalue,a.fmtV4),v5:fmtChartJS(a,C,a.fmtV5),v6:roundToWithThousands(a,fmtChartJS(a,100*c[h].value/totvalue,a.fmtV6),a.roundPct),v7:fmtChartJS(a,w,a.fmtV7),v8:fmtChartJS(a,A,a.fmtV8),v9:fmtChartJS(a,0,a.fmtV9),v10:fmtChartJS(a,v,a.fmtV10),v11:fmtChartJS(a,f-C,a.fmtV11),v12:fmtChartJS(a,f,a.fmtV12),v13:fmtChartJS(a,h,a.fmtV13),data:c}),b.translate(w+labelRadius*Math.cos(posAngle),
A-labelRadius*Math.sin(posAngle)),"inRadiusAxis"==a.inGraphDataRotate?b.rotate(2*Math.PI-posAngle):"inRadiusAxisRotateLabels"==a.inGraphDataRotate?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?b.rotate(3*Math.PI-posAngle):b.rotate(2*Math.PI-posAngle):b.rotate(Math.PI/180*a.inGraphDataRotate),b.fillTextMultiLine(e,0,0,b.textBaseline,a.inGraphDataFontSize),b.restore()),D-=C);n.legendMsr.dispLegend&&drawLegend(n.legendMsr,c,a,b,"Pie")}function e(){for(var d,
f=Math.PI/180*-a.startAngle+2*Math.PI,u=0;0>f;)f+=2*Math.PI;for(;f>2*Math.PI;)f-=2*Math.PI;w=n.leftNotUsableSize+n.availableWidth/2;A=n.topNotUsableSize+n.availableHeight/2;v=I([n.availableHeight/2,n.availableWidth/2])-5;if(a.inGraphDataShow&&3==a.inGraphDataRadiusPosition&&"off-center"==a.inGraphDataAlign&&0==a.inGraphDataRotate){v=I([n.availableHeight/2,n.availableWidth/2])-a.inGraphDataFontSize-a.inGraphDataPaddingRadius-5;for(var r=Math.PI/180*a.startAngle+2*Math.PI;0>r;)r+=2*Math.PI;for(;r>2*
Math.PI;)r-=2*Math.PI;for(var B=0,D=0;D<c.length;D++)"undefined"!=typeof c[D].value&&(B+=1*c[D].value);b.font=a.inGraphDataFontStyle+" "+a.inGraphDataFontSize+"px "+a.inGraphDataFontFamily;for(var u=0,h,D=0;D<c.length;D++)if("undefined"!=typeof c[D].value){var u=u+1*c[D].value,C=1*c[D].value/g*2*Math.PI,f=f+C;1==a.inGraphDataAnglePosition?h=r+Math.PI/180*a.inGraphDataPaddingAngle:2==a.inGraphDataAnglePosition?h=r-C/2+Math.PI/180*a.inGraphDataPaddingAngle:3==a.inGraphDataAnglePosition&&(h=r-C+Math.PI/
180*a.inGraphDataPaddingAngle);r-=C;d="string"==typeof c[D].title?c[D].title.trim():"";d=tmplbis(a.inGraphDataTmpl,{config:a,v1:fmtChartJS(a,d,a.fmtV1),v2:fmtChartJS(a,1*c[D].value,a.fmtV2),v3:fmtChartJS(a,u,a.fmtV3),v4:fmtChartJS(a,B,a.fmtV4),v5:fmtChartJS(a,C,a.fmtV5),v6:roundToWithThousands(a,fmtChartJS(a,100*c[D].value/B,a.fmtV6),a.roundPct),v7:fmtChartJS(a,w,a.fmtV7),v8:fmtChartJS(a,A,a.fmtV8),v9:fmtChartJS(a,0,a.fmtV9),v10:fmtChartJS(a,v,a.fmtV10),v11:fmtChartJS(a,f-C,a.fmtV11),v12:fmtChartJS(a,
f,a.fmtV12),v13:fmtChartJS(a,D,a.fmtV13),data:c});d=b.measureText(d).width;d=Math.abs((n.availableWidth/2-d)/Math.cos(h))-a.inGraphDataPaddingRadius-5;d<v&&(v=d)}}v*=a.radiusScale}var g=0,n,w,A,v;b.tpchart="Pie";f(b);if(dynamicFunction(c,a,b)){if(a.responsive&&"undefined"==typeof b.firstPass)if(a.multiGraph)b.firstPass=1;else{addResponsiveChart(b.ChartNewId,b,c,a);subUpdateChart(b,c,a);return}for(;0>a.startAngle;)a.startAngle+=360;for(;360<a.startAngle;)a.startAngle-=360;a.logarithmic=!1;a.logarithmic2=
!1;"undefined"==typeof jsGraphAnnotate[b.ChartNewId]?jsGraphAnnotate[b.ChartNewId]=[]:a.multiGraph||clearAnnotate(b.ChartNewId);Z(b,c,a);Y(b,a);n=R(c,a,b,T,O,"none",null,!0,!1,!1,!1,!0,"Pie");for(var E=0;E<c.length;E++)"undefined"!=typeof c[E].value&&(g+=1*c[E].value);e();0<v?H(a,null,d,b,n.clrx,n.clry,n.clrwidth,n.clrheight,w,A,w-v,A+v,c):testRedraw(b,c,a)}else a.responsive&&"undefined"==typeof b.firstPass&&(a.multiGraph||addResponsiveChart(b.ChartNewId,b,c,a))},pa=function(c,a,b){function d(e){for(var f=
Math.PI/180*-a.startAngle+2*Math.PI,B=0,D=1,h=1;0>f;)f+=2*Math.PI;for(;f>2*Math.PI;)f-=2*Math.PI;a.animation&&(a.animateScale&&(D=e),a.animateRotate&&(h=e));if(1<=e)for(var C=totvalue=0;C<c.length;C++)"undefined"!=typeof c[C].value&&(totvalue+=1*c[C].value);for(C=0;C<c.length;C++)if(correctedRotateAnimation=animationCorrection(h,c,a,C,-1,0).mainVal,"undefined"!=typeof c[C].value){var G=1*c[C].value/g*correctedRotateAnimation*2*Math.PI;G>=2*Math.PI&&(G=2*Math.PI-.001);b.beginPath();b.arc(w,A,D*v,f,
f+G,!1);b.arc(w,A,D*F,f+G,f,!0);b.closePath();b.fillStyle="function"==typeof c[C].color?c[C].color("COLOR",c,a,C,-1,e,c[C].value,"Doughnut",b,w,A,D*F,D*v):c[C].color;b.fill();f+=G;B+=1*c[C].value;a.segmentShowStroke&&(b.lineWidth=a.segmentStrokeWidth,b.strokeStyle=a.segmentStrokeColor,b.stroke())}if(1<=e)for(f-=2*Math.PI,C=0;C<c.length;C++)correctedRotateAnimation=animationCorrection(h,c,a,C,-1,0).mainVal,"undefined"!=typeof c[C].value&&(G=1*c[C].value/g*correctedRotateAnimation*2*Math.PI,G>=2*Math.PI&&
(G=2*Math.PI-.001),f+=G,B+=1*c[C].value,lgtxt="string"==typeof c[C].title?c[C].title.trim():"",jsGraphAnnotate[b.ChartNewId][jsGraphAnnotate[b.ChartNewId].length]=["ARC",w,A,F,v,f-G,f,lgtxt,1*c[C].value,B,totvalue,G,C],a.inGraphDataShow&&G>=Math.PI/180*a.inGraphDataMinimumAngle&&(1==a.inGraphDataAnglePosition?posAngle=E+Math.PI/180*a.inGraphDataPaddingAngle:2==a.inGraphDataAnglePosition?posAngle=E-G/2+Math.PI/180*a.inGraphDataPaddingAngle:3==a.inGraphDataAnglePosition&&(posAngle=E-G+Math.PI/180*a.inGraphDataPaddingAngle),
1==a.inGraphDataRadiusPosition?labelRadius=F+a.inGraphDataPaddingRadius:2==a.inGraphDataRadiusPosition?labelRadius=F+(v-F)/2+a.inGraphDataPaddingRadius:3==a.inGraphDataRadiusPosition&&(labelRadius=v+a.inGraphDataPaddingRadius),b.save(),b.textAlign="off-center"==a.inGraphDataAlign?"inRadiusAxis"==a.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==a.inGraphDataAlign?"inRadiusAxis"==a.inGraphDataRotate||(posAngle+
2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":a.inGraphDataAlign,b.textBaseline="off-center"==a.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":"to-center"==a.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":a.inGraphDataVAlign,b.font=a.inGraphDataFontStyle+" "+a.inGraphDataFontSize+"px "+a.inGraphDataFontFamily,b.fillStyle=a.inGraphDataFontColor,e=tmplbis(a.inGraphDataTmpl,{config:a,v1:fmtChartJS(a,
lgtxt,a.fmtV1),v2:fmtChartJS(a,1*c[C].value,a.fmtV2),v3:fmtChartJS(a,B,a.fmtV3),v4:fmtChartJS(a,totvalue,a.fmtV4),v5:fmtChartJS(a,G,a.fmtV5),v6:roundToWithThousands(a,fmtChartJS(a,100*c[C].value/totvalue,a.fmtV6),a.roundPct),v7:fmtChartJS(a,w,a.fmtV7),v8:fmtChartJS(a,A,a.fmtV8),v9:fmtChartJS(a,F,a.fmtV9),v10:fmtChartJS(a,v,a.fmtV10),v11:fmtChartJS(a,f-G,a.fmtV11),v12:fmtChartJS(a,f,a.fmtV12),v13:fmtChartJS(a,C,a.fmtV13)}),b.translate(w+labelRadius*Math.cos(posAngle),A-labelRadius*Math.sin(posAngle)),
"inRadiusAxis"==a.inGraphDataRotate?b.rotate(2*Math.PI-posAngle):"inRadiusAxisRotateLabels"==a.inGraphDataRotate?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?b.rotate(3*Math.PI-posAngle):b.rotate(2*Math.PI-posAngle):b.rotate(Math.PI/180*a.inGraphDataRotate),b.fillTextMultiLine(e,0,0,b.textBaseline,a.inGraphDataFontSize),b.restore()),E-=G);n.legendMsr.dispLegend&&drawLegend(n.legendMsr,c,a,b,"Doughnut")}function e(){for(var d,f=Math.PI/180*-a.startAngle+
2*Math.PI,B=0;0>f;)f+=2*Math.PI;for(;f>2*Math.PI;)f-=2*Math.PI;w=n.leftNotUsableSize+n.availableWidth/2;A=n.topNotUsableSize+n.availableHeight/2;v=I([n.availableHeight/2,n.availableWidth/2])-5;if(a.inGraphDataShow&&3==a.inGraphDataRadiusPosition&&"off-center"==a.inGraphDataAlign&&0==a.inGraphDataRotate){v=I([n.availableHeight/2,n.availableWidth/2])-a.inGraphDataFontSize-a.inGraphDataPaddingRadius-5;for(var D=Math.PI/180*a.startAngle+2*Math.PI;0>D;)D+=2*Math.PI;for(;D>2*Math.PI;)D-=2*Math.PI;for(var h=
0,C=0;C<c.length;C++)"undefined"!=typeof c[C].value&&(h+=1*c[C].value);b.font=a.inGraphDataFontStyle+" "+a.inGraphDataFontSize+"px "+a.inGraphDataFontFamily;for(var G,C=f=0;C<c.length;C++)if("undefined"!=typeof c[C].value){var B=B+1*c[C].value,p=1*c[C].value/g*2*Math.PI,f=f+p;1==a.inGraphDataAnglePosition?G=D+Math.PI/180*a.inGraphDataPaddingAngle:2==a.inGraphDataAnglePosition?G=D-p/2+Math.PI/180*a.inGraphDataPaddingAngle:3==a.inGraphDataAnglePosition&&(G=D-p+Math.PI/180*a.inGraphDataPaddingAngle);
D-=p;d="string"==typeof c[C].title?c[C].title.trim():"";d=tmplbis(a.inGraphDataTmpl,{config:a,v1:fmtChartJS(a,d,a.fmtV1),v2:fmtChartJS(a,1*c[C].value,a.fmtV2),v3:fmtChartJS(a,B,a.fmtV3),v4:fmtChartJS(a,h,a.fmtV4),v5:fmtChartJS(a,p,a.fmtV5),v6:roundToWithThousands(a,fmtChartJS(a,100*c[C].value/h,a.fmtV6),a.roundPct),v7:fmtChartJS(a,w,a.fmtV7),v8:fmtChartJS(a,A,a.fmtV8),v9:fmtChartJS(a,F,a.fmtV9),v10:fmtChartJS(a,v,a.fmtV10),v11:fmtChartJS(a,f-p,a.fmtV11),v12:fmtChartJS(a,f,a.fmtV12),v13:fmtChartJS(a,
C,a.fmtV13),data:c});d=b.measureText(d).width;d=Math.abs((n.availableWidth/2-d)/Math.cos(G))-a.inGraphDataPaddingRadius-5;d<v&&(v=d)}}v*=a.radiusScale}var g=0,n,w,A,v;b.tpchart="Doughnut";f(b);if(dynamicFunction(c,a,b)){if(a.responsive&&"undefined"==typeof b.firstPass)if(a.multiGraph)b.firstPass=1;else{addResponsiveChart(b.ChartNewId,b,c,a);subUpdateChart(b,c,a);return}for(var E=Math.PI/180*a.startAngle+2*Math.PI;0>a.startAngle;)a.startAngle+=360;for(;360<a.startAngle;)a.startAngle-=360;for(;0>E;)E+=
2*Math.PI;for(;E>2*Math.PI;)E-=2*Math.PI;a.logarithmic=!1;a.logarithmic2=!1;"undefined"==typeof jsGraphAnnotate[b.ChartNewId]?jsGraphAnnotate[b.ChartNewId]=[]:a.multiGraph||clearAnnotate(b.ChartNewId);Z(b,c,a);Y(b,a);n=R(c,a,b,T,O,"none",null,!0,!1,!1,!1,!0,"Doughnut");e();for(var F=a.percentageInnerCutout/100*v,m=0;m<c.length;m++)"undefined"!=typeof c[m].value&&(g+=1*c[m].value);0<v?H(a,null,d,b,n.clrx,n.clry,n.clrwidth,n.clrheight,w,A,w-v,A+v,c):testRedraw(b,c,a)}else a.responsive&&"undefined"==
typeof b.firstPass&&(a.multiGraph||addResponsiveChart(b.ChartNewId,b,c,a))},qa=function(c,a,b){function d(e){ja(1,e,c,a,b,k,{xAxisPosY:C,yAxisPosX:h,valueHop:D,nbValueHop:c.labels.length-1,scaleHop:w,zeroY:p,calculatedScale:v,logarithmic:a.logarithmic});ja(2,e,c,a,b,k,{xAxisPosY:C,yAxisPosX:h,valueHop:D,nbValueHop:c.labels.length-1,scaleHop:A,zeroY:s,calculatedScale:E,logarithmic:a.logarithmic2});1<=e&&"function"==typeof drawMath&&drawMath(b,a,c,G,{xAxisPosY:C,yAxisPosX:h,valueHop:D,scaleHop:w,zeroY:p,
calculatedScale:v,calculateOffset:g});G.legendMsr.dispLegend&&drawLegend(G.legendMsr,c,a,b,"Line")}function e(){if(!1!==a.drawXScaleLine)for(var d=0;d<a.drawXScaleLine.length;d++){b.lineWidth=a.drawXScaleLine[d].lineWidth?a.drawXScaleLine[d].lineWidth:a.scaleLineWidth;b.strokeStyle=a.drawXScaleLine[d].lineColor?a.drawXScaleLine[d].lineColor:a.scaleLineColor;b.beginPath();var f;switch(a.drawXScaleLine[d].position){case "bottom":f=C;break;case "top":f=C-G.availableHeight-a.scaleTickSizeTop;break;case "0":case 0:0!=
p&&(f=C-p)}b.moveTo(h-a.scaleTickSizeLeft,f);b.lineTo(h+G.availableWidth+a.scaleTickSizeRight,f);b.stroke()}for(d=0;d<c.labels.length;d++)b.beginPath(),b.moveTo(h+d*D,C+a.scaleTickSizeBottom),b.lineWidth=a.scaleGridLineWidth,b.strokeStyle=a.scaleGridLineColor,a.scaleShowGridLines&&0<d&&0==d%a.scaleXGridLinesStep?b.lineTo(h+d*D,C-G.availableHeight-a.scaleTickSizeTop):b.lineTo(h+d*D,C),b.stroke();b.lineWidth=a.scaleLineWidth;b.strokeStyle=a.scaleLineColor;b.beginPath();b.moveTo(h,C+a.scaleTickSizeBottom);
b.lineTo(h,C-G.availableHeight-a.scaleTickSizeTop);b.stroke();for(d=0;d<v.steps;d++)b.beginPath(),b.moveTo(h-a.scaleTickSizeLeft,C-(d+1)*w),b.lineWidth=a.scaleGridLineWidth,b.strokeStyle=a.scaleGridLineColor,a.scaleShowGridLines&&0==d%a.scaleYGridLinesStep?b.lineTo(h+G.availableWidth+a.scaleTickSizeRight,C-(d+1)*w):b.lineTo(h,C-(d+1)*w),b.stroke()}function n(){b.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily;if(a.xAxisTop||a.xAxisBottom)if(b.textBaseline="top",90<G.rotateLabels?
(b.save(),b.textAlign="left"):0<G.rotateLabels?(b.save(),b.textAlign="right"):b.textAlign="center",b.fillStyle=a.scaleFontColor,a.xAxisBottom)for(var d=0;d<c.labels.length;d++)b.save(),0<G.rotateLabels?(b.translate(h+d*D-G.highestXLabel/2,G.xLabelPos),b.rotate(-(Math.PI/180*G.rotateLabels)),b.fillTextMultiLine(fmtChartJS(a,c.labels[d],a.fmtXLabel),0,0,b.textBaseline,a.scaleFontSize)):b.fillTextMultiLine(fmtChartJS(a,c.labels[d],a.fmtXLabel),h+d*D,G.xLabelPos,b.textBaseline,a.scaleFontSize),b.restore();
b.textAlign="right";b.textBaseline="middle";for(d=a.showYAxisMin?-1:0;d<v.steps;d++)a.scaleShowLabels&&(a.yAxisLeft&&(b.textAlign="right",b.fillTextMultiLine(v.labels[d+1],h-(a.scaleTickSizeLeft+a.yAxisSpaceRight),C-(d+1)*w,b.textBaseline,a.scaleFontSize)),a.yAxisRight&&!u.dbAxis&&(b.textAlign="left",b.fillTextMultiLine(v.labels[d+1],h+G.availableWidth+(a.scaleTickSizeRight+a.yAxisSpaceRight),C-(d+1)*w,b.textBaseline,a.scaleFontSize)));if(a.yAxisRight&&u.dbAxis)for(d=a.showYAxisMin?-1:0;d<E.steps;d++)a.scaleShowLabels&&
(b.textAlign="left",b.fillTextMultiLine(E.labels[d+1],h+G.availableWidth+(a.scaleTickSizeRight+a.yAxisSpaceRight),C-(d+1)*A,b.textBaseline,a.scaleFontSize))}function I(){for(var b=Number.MIN_VALUE,d=Number.MAX_VALUE,e=Number.MIN_VALUE,f=Number.MAX_VALUE,h=!1,k=!1,g=0;g<c.datasets.length;g++){var p=c.datasets[g].drawMathDeviation,s=0;"function"==typeof eval(p)&&(s=window[p]({data:c,datasetNr:g}));for(p=0;p<c.datasets[g].data.length;p++)2==c.datasets[g].axis?(h=!0,1*c.datasets[g].data[p]+s>e&&(e=1*
c.datasets[g].data[p]+s),1*c.datasets[g].data[p]-s<f&&(f=1*c.datasets[g].data[p]-s)):(k=!0,1*c.datasets[g].data[p]+s>b&&(b=1*c.datasets[g].data[p]+s),1*c.datasets[g].data[p]-s<d&&(d=1*c.datasets[g].data[p]-s))}1E-8>Math.abs(b-d)&&(b=V([2*b,1]),d=0);isNaN(a.graphMin)||(d=a.graphMin);isNaN(a.graphMax)||(b=a.graphMax);h&&(1E-8>Math.abs(e-f)&&(e=V([2*e,1]),f=0),isNaN(a.graphMin2)||(f=a.graphMin2),isNaN(a.graphMax2)||(e=a.graphMax2));!k&&h&&(b=e,d=f);F=a.scaleFontSize;m=G.availableHeight;return{maxValue:b,
minValue:d,maxValue2:e,minValue2:f,dbAxis:h,maxSteps:Math.floor(m/(.66*F)),minSteps:Math.floor(m/F*.5)}}var w,A,v,E,F,m,u,r,B,D,h,C,G,p=0,s=0,k=[];b.tpchart="Line";f(b);if(dynamicFunction(c,a,b)){if(a.responsive&&"undefined"==typeof b.firstPass)if(a.multiGraph)b.firstPass=1;else{addResponsiveChart(b.ChartNewId,b,c,a);subUpdateChart(b,c,a);return}for(r=B=0;r<c.datasets.length;r++)B=V([B,c.datasets[r].data.length]);if(1==B)for("string"==typeof c.labels[0]&&(c.labels=["",c.labels[0],""]),r=0;r<c.datasets.length;r++)typeof("undefined"!=
c.datasets[r].data[0])&&(c.datasets[r].data=[void 0,c.datasets[r].data[0],void 0]);"undefined"==typeof jsGraphAnnotate[b.ChartNewId]?jsGraphAnnotate[b.ChartNewId]=[]:a.multiGraph||clearAnnotate(b.ChartNewId);Z(b,c,a);Y(b,a);G=R(c,a,b,T,O,"nihil",[""],!1,!1,!0,!0,a.datasetFill,"Line");u=I();!1!==a.logarithmic&&0>=u.minValue&&(a.logarithmic=!1);!1!==a.logarithmic2&&0>=u.minValue2&&(a.logarithmic2=!1);r=L(Math.pow(10,L(u.maxValue)+1))-L(Math.pow(10,L(u.minValue)));if("fuzzy"==a.logarithmic&&4>r||a.scaleOverride)a.logarithmic=
!1;r=L(Math.pow(10,L(u.maxValue2)+1))-L(Math.pow(10,L(u.minValue2)));if("fuzzy"==a.logarithmic2&&4>r||a.scaleOverride2)a.logarithmic2=!1;r=a.scaleShowLabels?a.scaleLabel:"";B=a.scaleShowLabels2?a.scaleLabel2:"";a.scaleOverride?(v={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,graphMax:a.scaleStartValue+a.scaleSteps*a.scaleStepWidth,labels:[]},Q(1,a,r,v.labels,v.steps,a.scaleStartValue,v.graphMax,a.scaleStepWidth)):0<u.maxSteps&&0<u.minSteps&&(v=J(1,a,u.maxSteps,u.minSteps,
u.maxValue,u.minValue,r));u.dbAxis?a.scaleOverride2?(E={steps:a.scaleSteps2,stepValue:a.scaleStepWidth2,graphMin:a.scaleStartValue2,graphMax:a.scaleStartValue2+a.scaleSteps2*a.scaleStepWidth2,labels:[]},Q(2,a,B,E.labels,E.steps,a.scaleStartValue2,E.graphMax,a.scaleStepWidth2)):0<u.maxSteps&&0<u.minSteps&&(E=J(2,a,u.maxSteps,u.minSteps,u.maxValue2,u.minValue2,r)):E={steps:0,stepValue:0,graphMin:0,graphMax:0,labels:null};if(0<u.maxSteps&&0<u.minSteps){G=R(c,a,b,T,O,v.labels,E.labels,!1,!1,!0,!0,a.datasetFill,
"Line");r=G.availableHeight;G.availableHeight=G.availableHeight-a.scaleTickSizeBottom-a.scaleTickSizeTop;G.availableWidth=G.availableWidth-a.scaleTickSizeLeft-a.scaleTickSizeRight;w=Math.floor(G.availableHeight/v.steps);A=Math.floor(G.availableHeight/E.steps);D=Math.floor(G.availableWidth/(c.labels.length-1));if(0==D||a.fullWidthGraph)D=G.availableWidth/(c.labels.length-1);G.clrwidth-=G.availableWidth-(c.labels.length-1)*D;G.availableWidth=(c.labels.length-1)*D;G.availableHeight=v.steps*w;G.xLabelPos+=
a.scaleTickSizeBottom+a.scaleTickSizeTop-(r-G.availableHeight);G.clrheight+=a.scaleTickSizeBottom+a.scaleTickSizeTop-(r-G.availableHeight);h=G.leftNotUsableSize+a.scaleTickSizeLeft;C=G.topNotUsableSize+G.availableHeight+a.scaleTickSizeTop;n();0>u.minValue&&(p=g(a.logarithmic,0,v,w));0>u.minValue2&&(s=g(a.logarithmic2,0,E,A));for(r=0;r<c.datasets.length;r++)for(k[r]=[],B=0;B<c.datasets[r].data.length;B++)k[r][B]=2==c.datasets[r].axis?g(a.logarithmic2,c.datasets[r].data[B],E,A)-s:g(a.logarithmic,c.datasets[r].data[B],
v,w)-p;H(a,e,d,b,G.clrx,G.clry,G.clrwidth,G.clrheight,h+G.availableWidth/2,C-G.availableHeight/2,h,C,c)}else testRedraw(b,c,a)}else a.responsive&&"undefined"==typeof b.firstPass&&(a.multiGraph||addResponsiveChart(b.ChartNewId,b,c,a))},ra=function(c,a,b){function d(e){b.lineWidth=a.barStrokeWidth;for(var f=Array(c.datasets.length),p=Array(c.datasets.length),s=[],k=[],l=0;l<c.datasets.length;l++)for(var q=0;q<c.datasets[l].data.length;q++)s[q]=0,k[q]=0;for(l=0;l<c.datasets.length;l++)for(q=0;q<c.datasets[l].data.length;q++)"undefined"!=
typeof c.datasets[l].data[q]&&(k[q]+=1*c.datasets[l].data[q]);for(l=0;l<c.datasets.length;l++)for(1<=e&&(lgtxt="string"==typeof c.datasets[l].title?c.datasets[l].title.trim():""),q=0;q<c.datasets[l].data.length;q++){var z=animationCorrection(e,c,a,l,q,1).animVal;1<z&&--z;"undefined"==typeof f[q]&&(f[q]=0,p[q]=0,zeroY=g(a.logarithmic,0,A,w));var n=r+a.barValueSpacing+u*q;if("undefined"!=typeof c.datasets[l].data[q]&&0!=1*c.datasets[l].data[q]){if(0>1*c.datasets[l].data[q])var v=f[q],m=f[q]+1*c.datasets[l].data[q];
else v=p[q],m=p[q]+1*c.datasets[l].data[q];a.animationByDataset?(v=B-g(a.logarithmic,v,A,w),m=B-g(a.logarithmic,m,A,w),m=v+z*(m-v)):(v=B-g(a.logarithmic,z*v,A,w),m=B-g(a.logarithmic,z*m,A,w));b.fillStyle=a.defaultFillColor;"function"==typeof c.datasets[l].fillColor?b.fillStyle=c.datasets[l].fillColor("FILLCOLOR",c,a,l,q,z,1*c.datasets[l].data[q],"StackedBar",b,n,v,n+D,m):"string"==typeof c.datasets[l].fillColor?b.fillStyle=c.datasets[l].fillColor:"object"==typeof c.datasets[l].fillColor&&"string"==
typeof c.datasets[l].fillColor[0]&&(b.fillStyle=c.datasets[l].fillColor[I([c.datasets[l].fillColor.length-1,q])]);b.strokeStyle=a.defaultStrokeColor;"function"==typeof c.datasets[l].strokeColor?b.strokeStyle=c.datasets[l].strokeColor("STROKECOLOR",c,a,l,q,z,1*c.datasets[l].data[q],"StackedBar",b,n,v,n+D,m):"string"==typeof c.datasets[l].strokeColor?b.strokeStyle=c.datasets[l].strokeColor:"object"==typeof c.datasets[l].strokeColor&&"string"==typeof c.datasets[l].strokeColor[0]&&(b.strokeStyle=c.datasets[l].strokeColor[I([c.datasets[l].strokeColor.length-
1,q])]);0!=z&&(b.beginPath(),b.moveTo(n,v),b.lineTo(n,m),b.lineTo(n+D,m),b.lineTo(n+D,v),a.barShowStroke&&b.stroke(),b.closePath(),b.fill(),s[q]+=1*c.datasets[l].data[q],1<=e&&(lgtxt2="string"==typeof c.labels[q]?c.labels[q].trim():"",jsGraphAnnotate[b.ChartNewId][jsGraphAnnotate[b.ChartNewId].length]=0>1*c.datasets[l].data[q]?["RECT",n,m,n+D,v,lgtxt,lgtxt2,1*c.datasets[l].data[q],s[q],k[q],l,q]:["RECT",n,v,n+D,m,lgtxt,lgtxt2,1*c.datasets[l].data[q],s[q],k[q],l,q]));0>1*c.datasets[l].data[q]?f[q]+=
1*c.datasets[l].data[q]:p[q]+=1*c.datasets[l].data[q]}}f=Array(c.datasets.length);p=Array(c.datasets.length);if(1<=e&&a.inGraphDataShow){for(l=z=e=0;l<c.datasets.length;l++)for(q=0;q<c.datasets[l].data.length;q++)s[q]=0;for(l=0;l<c.datasets.length;l++)for(lgtxt="string"==typeof c.datasets[l].title?c.datasets[l].title.trim():"",q=0;q<c.datasets[l].data.length;q++)if("undefined"==typeof f[q]&&(f[q]=0,p[q]=0,zeroY=g(a.logarithmic,0,A,w)),"undefined"!=typeof c.datasets[l].data[q]){0>1*c.datasets[l].data[q]?
(v=f[q],m=f[q]+1*c.datasets[l].data[q]):(v=p[q],m=p[q]+1*c.datasets[l].data[q]);v=B-g(a.logarithmic,v,A,w);m=B-g(a.logarithmic,m,A,w);b.save();b.textAlign=a.inGraphDataAlign;b.textBaseline=a.inGraphDataVAlign;b.font=a.inGraphDataFontStyle+" "+a.inGraphDataFontSize+"px "+a.inGraphDataFontFamily;b.fillStyle=a.inGraphDataFontColor;lgtxt2="string"==typeof c.labels[q]?c.labels[q].trim():"";s[q]+=1+c.datasets[l].data[q];var E=tmplbis(a.inGraphDataTmpl,{config:a,v1:fmtChartJS(a,lgtxt,a.fmtV1),v2:fmtChartJS(a,
lgtxt2,a.fmtV2),v3:fmtChartJS(a,1*c.datasets[l].data[q],a.fmtV3),v4:fmtChartJS(a,s[q],a.fmtV4),v5:fmtChartJS(a,k[q],a.fmtV5),v6:roundToWithThousands(a,fmtChartJS(a,100*c.datasets[l].data[q]/k[q],a.fmtV6),a.roundPct),v7:fmtChartJS(a,n,a.fmtV7),v8:fmtChartJS(a,B,a.fmtV8),v9:fmtChartJS(a,n+D,a.fmtV9),v10:fmtChartJS(a,B-g(a.logarithmic,c.datasets[l].data[q],A,w)+a.barStrokeWidth/2,a.fmtV10),v11:fmtChartJS(a,l,a.fmtV11),v12:fmtChartJS(a,q,a.fmtV12),data:c}),n=r+a.barValueSpacing+u*q;b.beginPath();b.beginPath();
z=e=0;1==a.inGraphDataXPosition?z=n+a.inGraphDataPaddingX:2==a.inGraphDataXPosition?z=n+D/2+a.inGraphDataPaddingX:3==a.inGraphDataXPosition&&(z=n+D+a.inGraphDataPaddingX);1==a.inGraphDataYPosition?e=v-a.inGraphDataPaddingY:2==a.inGraphDataYPosition?e=m-(botbar-topbar)/2-a.inGraphDataPaddingY:3==a.inGraphDataYPosition&&(e=m-a.inGraphDataPaddingY);e>h.topNotUsableSize&&(b.translate(z,e),b.rotate(Math.PI/180*a.inGraphDataRotate),b.fillTextMultiLine(E,0,0,b.textBaseline,a.inGraphDataFontSize));b.restore();
0>1*c.datasets[l].data[q]?f[q]+=1*c.datasets[l].data[q]:p[q]+=1*c.datasets[l].data[q]}}h.legendMsr.dispLegend&&drawLegend(h.legendMsr,c,a,b,"StackedBar")}function e(){b.lineWidth=a.scaleLineWidth;b.strokeStyle=a.scaleLineColor;b.beginPath();b.moveTo(r-a.scaleTickSizeLeft,B);b.lineTo(r+h.availableWidth+a.scaleTickSizeRight,B);b.stroke();for(var d=0;d<c.labels.length;d++)b.beginPath(),b.moveTo(r+d*u,B+a.scaleTickSizeBottom),b.lineWidth=a.scaleGridLineWidth,b.strokeStyle=a.scaleGridLineColor,a.scaleShowGridLines&&
0<d&&0==d%a.scaleXGridLinesStep?b.lineTo(r+d*u,B-h.availableHeight-a.scaleTickSizeTop):b.lineTo(r+d*u,B),b.stroke();b.lineWidth=a.scaleLineWidth;b.strokeStyle=a.scaleLineColor;b.beginPath();b.moveTo(r,B+a.scaleTickSizeBottom);b.lineTo(r,B-h.availableHeight-a.scaleTickSizeTop);b.stroke();for(d=a.showYAxisMin?-1:0;d<A.steps;d++)b.beginPath(),b.moveTo(r-a.scaleTickSizeLeft,B-(d+1)*w),b.lineWidth=a.scaleGridLineWidth,b.strokeStyle=a.scaleGridLineColor,a.scaleShowGridLines&&0==d%a.scaleYGridLinesStep?
b.lineTo(r+h.availableWidth+a.scaleTickSizeRight,B-(d+1)*w):b.lineTo(r,B-(d+1)*w),b.stroke()}function n(){b.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily;if(a.xAxisTop||a.xAxisBottom)if(b.textBaseline="top",90<h.rotateLabels?(b.save(),b.textAlign="left"):0<h.rotateLabels?(b.save(),b.textAlign="right"):b.textAlign="center",b.fillStyle=a.scaleFontColor,a.xAxisBottom)for(var d=0;d<c.labels.length;d++)b.save(),0<h.rotateLabels?(b.translate(r+a.barValueSpacing+d*u+D/2-h.highestXLabel/
2,h.xLabelPos),b.rotate(-(Math.PI/180*h.rotateLabels)),b.fillTextMultiLine(fmtChartJS(a,c.labels[d],a.fmtXLabel),0,0,b.textBaseline,a.scaleFontSize)):b.fillTextMultiLine(fmtChartJS(a,c.labels[d],a.fmtXLabel),r+a.barValueSpacing+d*u+D/2,h.xLabelPos,b.textBaseline,a.scaleFontSize),b.restore();b.textAlign="right";b.textBaseline="middle";for(d=a.showYAxisMin?-1:0;d<A.steps;d++)a.scaleShowLabels&&(a.yAxisLeft&&(b.textAlign="right",b.fillTextMultiLine(A.labels[d+1],r-(a.scaleTickSizeLeft+a.yAxisSpaceRight),
B-(d+1)*w,b.textBaseline,a.scaleFontSize)),a.yAxisRight&&(b.textAlign="left",b.fillTextMultiLine(A.labels[d+1],r+h.availableWidth+(a.scaleTickSizeRight+a.yAxisSpaceRight),B-(d+1)*w,b.textBaseline,a.scaleFontSize)))}function K(){for(var b=Number.MIN_VALUE,d=Number.MAX_VALUE,e=0;e<c.datasets.length;e++)for(var f=0;f<c.datasets[e].data.length;f++){var k=e,g=0,q=0;"undefined"!=typeof c.datasets[0].data[f]&&(0<1*c.datasets[0].data[f]?(g+=1*c.datasets[0].data[f],g>b&&(b=g),g<d&&(d=g)):(q+=1*c.datasets[0].data[f],
q>b&&(b=q),q<d&&(d=q)));for(;0<k;)"undefined"!=typeof c.datasets[k].data[f]&&(0<1*c.datasets[k].data[f]?(g+=1*c.datasets[k].data[f],g>b&&(b=g),g<d&&(d=g)):(q+=1*c.datasets[k].data[f],q>b&&(b=q),q<d&&(d=q))),k--}isNaN(a.graphMin)||(d=a.graphMin);isNaN(a.graphMax)||(b=a.graphMax);1E-8>Math.abs(b-d)&&(b=V([2*b,1]),d=0);v=a.scaleFontSize;E=h.availableHeight;return{maxValue:b,minValue:d,maxSteps:Math.floor(E/(.66*v)),minSteps:Math.floor(E/v*.5)}}var w,A,v,E,F,m,u,r,B,D,h;b.tpchart="StackedBar";f(b);if(dynamicFunction(c,
a,b)){if(a.responsive&&"undefined"==typeof b.firstPass)if(a.multiGraph)b.firstPass=1;else{addResponsiveChart(b.ChartNewId,b,c,a);subUpdateChart(b,c,a);return}a.logarithmic=!1;"undefined"==typeof jsGraphAnnotate[b.ChartNewId]?jsGraphAnnotate[b.ChartNewId]=[]:a.multiGraph||clearAnnotate(b.ChartNewId);Z(b,c,a);Y(b,a);h=R(c,a,b,T,O,"nihil",[""],!0,!1,!0,!0,!0,"StackedBar");F=K();if(0<F.maxSteps&&0<F.minSteps){m=a.scaleShowLabels?a.scaleLabel:"";if(a.scaleOverride)for(A={steps:a.scaleSteps,stepValue:a.scaleStepWidth,
graphMin:a.scaleStartValue,labels:[]},F=0;F<=A.steps;F++)m&&A.labels.push(ba(m,{value:fmtChartJS(a,1*(a.scaleStartValue+a.scaleStepWidth*F).toFixed(fa(a.scaleStepWidth)),a.fmtYLabel)}));else A=J(1,a,F.maxSteps,F.minSteps,F.maxValue,F.minValue,m);h=R(c,a,b,T,O,A.labels,null,!0,!1,!0,!0,!0,"StackedBar");m=h.availableHeight;h.availableHeight=h.availableHeight-a.scaleTickSizeBottom-a.scaleTickSizeTop;h.availableWidth=h.availableWidth-a.scaleTickSizeLeft-a.scaleTickSizeRight;w=Math.floor(h.availableHeight/
A.steps);u=Math.floor(h.availableWidth/c.labels.length);if(0==u||a.fullWidthGraph)u=h.availableWidth/c.labels.length;h.clrwidth-=h.availableWidth-c.labels.length*u;h.availableWidth=c.labels.length*u;h.availableHeight=A.steps*w;h.xLabelPos+=a.scaleTickSizeBottom+a.scaleTickSizeTop-(m-h.availableHeight);h.clrheight+=a.scaleTickSizeBottom+a.scaleTickSizeTop-(m-h.availableHeight);r=h.leftNotUsableSize+a.scaleTickSizeLeft;B=h.topNotUsableSize+h.availableHeight+a.scaleTickSizeTop;D=u-2*a.scaleGridLineWidth-
2*a.barValueSpacing-(a.barDatasetSpacing*c.datasets.length-1)-a.barStrokeWidth/2-1;0<=D&&1>=D&&(D=1);0>D&&-1<=D&&(D=-1);n();H(a,e,d,b,h.clrx,h.clry,h.clrwidth,h.clrheight,r+h.availableWidth/2,B-h.availableHeight/2,r,B,c)}else testRedraw(b,c,a)}else a.responsive&&"undefined"==typeof b.firstPass&&(a.multiGraph||addResponsiveChart(b.ChartNewId,b,c,a))},sa=function(c,a,b){function d(a,b,c){a=$((a-b.graphMin)/(b.steps*b.stepValue),1,0);return c*b.steps*a}function g(e){b.lineWidth=a.barStrokeWidth;for(var f=
Array(c.datasets.length),s=Array(c.datasets.length),k=[],l=[],q=0;q<c.datasets.length;q++)for(var z=0;z<c.datasets[q].data.length;z++)k[z]=0,l[z]=0;for(q=0;q<c.datasets.length;q++)for(z=0;z<c.datasets[q].data.length;z++)"undefined"!=typeof c.datasets[q].data[z]&&(l[z]+=1*c.datasets[q].data[z]);for(q=0;q<c.datasets.length;q++)for(1<=e&&(lgtxt="string"==typeof c.datasets[q].title?c.datasets[q].title.trim():""),z=0;z<c.datasets[q].data.length;z++){var n=animationCorrection(e,c,a,q,z,1).animVal;1<n&&
--n;"undefined"==typeof f[z]&&(f[z]=0,s[z]=0,zeroY=d(0,v,A));var u=D+a.barValueSpacing-A*(z+1);if("undefined"!=typeof c.datasets[q].data[z]&&0!=1*c.datasets[q].data[z]){if(0>1*c.datasets[q].data[z])var w=f[z],m=f[z]+1*c.datasets[q].data[z];else w=s[z],m=s[z]+1*c.datasets[q].data[z];a.animationByDataset?(w=B+d(w,v,r),m=B+d(m,v,r),m=w+n*(m-w)):(w=B+d(n*w,v,r),m=B+d(n*m,v,r));b.fillStyle=a.defaultFillColor;"function"==typeof c.datasets[q].fillColor?b.fillStyle=c.datasets[q].fillColor("FILLCOLOR",c,a,
q,z,n,1*c.datasets[q].data[z],"HorizontalStackedBar",b,w,u,m,u+h):"string"==typeof c.datasets[q].fillColor?b.fillStyle=c.datasets[q].fillColor:"object"==typeof c.datasets[q].fillColor&&"string"==typeof c.datasets[q].fillColor[0]&&(b.fillStyle=c.datasets[q].fillColor[I([c.datasets[q].fillColor.length-1,z])]);b.strokeStyle=a.defaultStrokeColor;"function"==typeof c.datasets[q].strokeColor?b.strokeStyle=c.datasets[q].strokeColor("STROKECOLOR",c,a,q,z,n,1*c.datasets[q].data[z],b,"HorizontalStackedBar",
b,w,u,m,u+h):"string"==typeof c.datasets[q].strokeColor?b.strokeStyle=c.datasets[q].strokeColor:"object"==typeof c.datasets[q].strokeColor&&"string"==typeof c.datasets[q].strokeColor[0]&&(b.strokeStyle=c.datasets[q].strokeColor[I([c.datasets[q].strokeColor.length-1,z])]);0!=n&&(b.beginPath(),b.moveTo(w,u),b.lineTo(m,u),b.lineTo(m,u+h),b.lineTo(w,u+h),b.lineTo(w,u),a.barShowStroke&&b.stroke(),b.closePath(),b.fill(),k[z]+=1*c.datasets[q].data[z],1<=e&&(lgtxt2="string"==typeof c.labels[z]?c.labels[z].trim():
"",jsGraphAnnotate[b.ChartNewId][jsGraphAnnotate[b.ChartNewId].length]=0>1*c.datasets[q].data[z]?["RECT",m,u+h,w,u,lgtxt,lgtxt2,1*c.datasets[q].data[z],k[z],l[z],q,z]:["RECT",w,u+h,m,u,lgtxt,lgtxt2,1*c.datasets[q].data[z],k[z],l[z],q,z]));0>1*c.datasets[q].data[z]?f[z]+=1*c.datasets[q].data[z]:s[z]+=1*c.datasets[q].data[z]}}if(1<=e&&a.inGraphDataShow){f=Array(c.datasets.length);s=Array(c.datasets.length);for(q=n=e=0;q<c.datasets.length;q++)for(z=0;z<c.datasets[q].data.length;z++)k[z]=0;for(q=0;q<
c.datasets.length;q++)for(lgtxt="string"==typeof c.datasets[q].title?c.datasets[q].title.trim():"",z=0;z<c.datasets[q].data.length;z++)if("undefined"==typeof f[z]&&(f[z]=0,s[z]=0,zeroY=d(0,v,A)),"undefined"!=typeof c.datasets[q].data[z]){0>1*c.datasets[q].data[z]?(w=f[z],m=f[z]+1*c.datasets[q].data[z]):(w=s[z],m=s[z]+1*c.datasets[q].data[z]);w=B+d(w,v,r);m=B+d(m,v,r);b.save();b.textAlign=a.inGraphDataAlign;b.textBaseline=a.inGraphDataVAlign;b.font=a.inGraphDataFontStyle+" "+a.inGraphDataFontSize+
"px "+a.inGraphDataFontFamily;b.fillStyle=a.inGraphDataFontColor;lgtxt2="string"==typeof c.labels[z]?c.labels[z].trim():"";u=D+a.barValueSpacing-A*(z+1);k[z]+=c.datasets[q].data[z];var E=tmplbis(a.inGraphDataTmpl,{config:a,v1:fmtChartJS(a,lgtxt,a.fmtV1),v2:fmtChartJS(a,lgtxt2,a.fmtV2),v3:fmtChartJS(a,1*c.datasets[q].data[z],a.fmtV3),v4:fmtChartJS(a,k[z],a.fmtV4),v5:fmtChartJS(a,l[z],a.fmtV5),v6:roundToWithThousands(a,fmtChartJS(a,100*c.datasets[q].data[z]/l[z],a.fmtV6),a.roundPct),v7:fmtChartJS(a,
B,a.fmtV7),v8:fmtChartJS(a,u+h,a.fmtV8),v9:fmtChartJS(a,B+d(c.datasets[q].data[z],v,r)+a.barStrokeWidth/2,a.fmtV9),v10:fmtChartJS(a,u,a.fmtV10),v11:fmtChartJS(a,q,a.fmtV11),v12:fmtChartJS(a,z,a.fmtV12),data:c});b.beginPath();n=e=0;1==a.inGraphDataXPosition?n=w+a.inGraphDataPaddingX:2==a.inGraphDataXPosition?n=w+(m-w)/2+a.inGraphDataPaddingX:3==a.inGraphDataXPosition&&(n=m+a.inGraphDataPaddingX);1==a.inGraphDataYPosition?e=u+h-a.inGraphDataPaddingY:2==a.inGraphDataYPosition?e=u+h/2-a.inGraphDataPaddingY:
3==a.inGraphDataYPosition&&(e=u-a.inGraphDataPaddingY);n<=C.availableWidth+C.leftNotUsableSize&&(b.translate(n,e),b.rotate(Math.PI/180*a.inGraphDataRotate),b.fillTextMultiLine(E,0,0,b.textBaseline,a.inGraphDataFontSize),b.restore());0>1*c.datasets[q].data[z]?f[z]+=1*c.datasets[q].data[z]:s[z]+=1*c.datasets[q].data[z]}}C.legendMsr.dispLegend&&drawLegend(C.legendMsr,c,a,b,"HorizontalStackedBar")}function n(){b.lineWidth=a.scaleLineWidth;b.strokeStyle=a.scaleLineColor;b.beginPath();b.moveTo(B-a.scaleTickSizeLeft,
D);b.lineTo(B+C.availableWidth,D);b.stroke();for(var d=a.showYAxisMin?-1:0;d<v.steps;d++)0<=d&&(b.beginPath(),b.moveTo(B+d*r,D+a.scaleTickSizeBottom),b.lineWidth=a.scaleGridLineWidth,b.strokeStyle=a.scaleGridLineColor,a.scaleShowGridLines&&0<d&&0==d%a.scaleXGridLinesStep?b.lineTo(B+d*r,D-C.availableHeight-a.scaleTickSizeTop):b.lineTo(B+d*r,D),b.stroke());b.lineWidth=a.scaleLineWidth;b.strokeStyle=a.scaleLineColor;b.beginPath();b.moveTo(B,D+a.scaleTickSizeBottom);b.lineTo(B,D-C.availableHeight-a.scaleTickSizeTop);
b.stroke();for(d=0;d<c.labels.length;d++)b.beginPath(),b.moveTo(B-a.scaleTickSizeLeft,D-(d+1)*A),b.lineWidth=a.scaleGridLineWidth,b.strokeStyle=a.scaleGridLineColor,a.scaleShowGridLines&&0==d%a.scaleYGridLinesStep?b.lineTo(B+C.availableWidth,D-(d+1)*A):b.lineTo(B,D-(d+1)*A),b.stroke()}function K(){b.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily;if(a.scaleShowLabels&&(a.xAxisTop||a.xAxisBottom)&&(b.textBaseline="top",90<C.rotateLabels?(b.save(),b.textAlign="left"):0<C.rotateLabels?
(b.save(),b.textAlign="right"):b.textAlign="center",b.fillStyle=a.scaleFontColor,a.xAxisBottom))for(var d=a.showYAxisMin?-1:0;d<v.steps;d++)b.save(),0<C.rotateLabels?(b.translate(B+(d+1)*r-C.highestXLabel/2,C.xLabelPos),b.rotate(-(Math.PI/180*C.rotateLabels)),b.fillTextMultiLine(v.labels[d+1],0,0,b.textBaseline,a.scaleFontSize)):b.fillTextMultiLine(v.labels[d+1],B+(d+1)*r,C.xLabelPos,b.textBaseline,a.scaleFontSize),b.restore();b.textAlign="right";b.textBaseline="middle";for(d=0;d<c.labels.length;d++)a.yAxisLeft&&
(b.textAlign="right",b.fillTextMultiLine(fmtChartJS(a,c.labels[d],a.fmtXLabel),B-(a.scaleTickSizeLeft+a.yAxisSpaceRight),D-(d+1)*A+h/2,b.textBaseline,a.scaleFontSize)),a.yAxisRight&&(b.textAlign="left",b.fillTextMultiLine(fmtChartJS(a,c.labels[d],a.fmtXLabel),B+C.availableWidth+(a.scaleTickSizeRight+a.yAxisSpaceRight),D-(d+1)*A+h/2,b.textBaseline,a.scaleFontSize))}function w(){for(var b=Number.MIN_VALUE,d=Number.MAX_VALUE,e=0;e<c.datasets.length;e++)for(var f=0;f<c.datasets[e].data.length;f++){var g=
e,h=0,z=0;"undefined"!=typeof c.datasets[0].data[f]&&(0<1*c.datasets[0].data[f]?(h+=1*c.datasets[0].data[f],h>b&&(b=h),h<d&&(d=h)):(z+=1*c.datasets[0].data[f],z>b&&(b=z),z<d&&(d=z)));for(;0<g;)"undefined"!=typeof c.datasets[g].data[f]&&(0<1*c.datasets[g].data[f]?(h+=1*c.datasets[g].data[f],h>b&&(b=h),h<d&&(d=h)):(z+=1*c.datasets[g].data[f],z>b&&(b=z),z<d&&(d=z))),g--}isNaN(a.graphMin)||(d=a.graphMin);isNaN(a.graphMax)||(b=a.graphMax);1E-8>Math.abs(b-d)&&(b=V([2*b,1]),d=0);E=a.scaleFontSize;F=C.availableHeight;
return{maxValue:b,minValue:d,maxSteps:Math.floor(F/(.66*E)),minSteps:Math.floor(F/E*.5)}}var A,v,E,F,m,u,r,B,D,h,C;b.tpchart="HorizontalStackedBar";f(b);if(dynamicFunction(c,a,b)){if(a.responsive&&"undefined"==typeof b.firstPass)if(a.multiGraph)b.firstPass=1;else{addResponsiveChart(b.ChartNewId,b,c,a);subUpdateChart(b,c,a);return}a.reverseOrder&&"undefined"==typeof b.reversed&&(b.reversed=!0,c=e(c));a.logarithmic=!1;"undefined"==typeof jsGraphAnnotate[b.ChartNewId]?jsGraphAnnotate[b.ChartNewId]=[]:
a.multiGraph||clearAnnotate(b.ChartNewId);Z(b,c,a);Y(b,a);C=R(c,a,b,T,O,"nihil",[""],!0,!0,!0,!0,!0,"HorizontalStackedBar");m=w();if(0<m.maxSteps&&0<m.minSteps){u=a.scaleShowLabels?a.scaleLabel:"";if(a.scaleOverride)for(v={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,labels:[]},m=0;m<=v.steps;m++)u&&v.labels.push(ba(u,{value:fmtChartJS(a,1*(a.scaleStartValue+a.scaleStepWidth*m).toFixed(fa(a.scaleStepWidth)),a.fmtYLabel)}));else v=J(1,a,m.maxSteps,m.minSteps,m.maxValue,
m.minValue,u);C=R(c,a,b,T,O,v.labels,null,!0,!0,!0,!0,!0,"HorizontalStackedBar");C.availableHeight=C.availableHeight-a.scaleTickSizeBottom-a.scaleTickSizeTop;C.availableWidth=C.availableWidth-a.scaleTickSizeLeft-a.scaleTickSizeRight;A=Math.floor(C.availableHeight/c.labels.length);r=Math.floor(C.availableWidth/v.steps);if(0==r||a.fullWidthGraph)r=C.availableWidth/v.steps;C.clrwidth-=C.availableWidth-v.steps*r;C.availableWidth=v.steps*r;C.availableHeight=c.labels.length*A;B=C.leftNotUsableSize+a.scaleTickSizeLeft;
D=C.topNotUsableSize+C.availableHeight+a.scaleTickSizeTop;h=A-2*a.scaleGridLineWidth-2*a.barValueSpacing-(a.barDatasetSpacing*c.datasets.length-1)-a.barStrokeWidth/2-1;0<=h&&1>=h&&(h=1);0>h&&-1<=h&&(h=-1);K();H(a,n,g,b,C.clrx,C.clry,C.clrwidth,C.clrheight,B+C.availableWidth/2,D-C.availableHeight/2,B,D,c)}else testRedraw(b,c,a)}else a.responsive&&"undefined"==typeof b.firstPass&&(a.multiGraph||addResponsiveChart(b.ChartNewId,b,c,a))},ta=function(c,a,b){function d(e){for(var f,k,p,s=[],n=[],l=0;l<c.datasets.length;l++)for(var m=
0;m<c.datasets[l].data.length;m++)s[m]=0,n[m]=0;for(l=0;l<c.datasets.length;l++)for(m=0;m<c.datasets[l].data.length;m++)"undefined"!=typeof c.datasets[l].data[m]&&(n[m]+=1*c.datasets[l].data[m]);b.lineWidth=a.barStrokeWidth;for(l=0;l<c.datasets.length;l++)if("Line"==c.datasets[l].type)m={datasets:[],labels:c.labels},m.datasets.push(c.datasets[l]),lineConfig=K(a,{datasetFill:c.datasets[l].fill}),ja(1,e,m,lineConfig,b,C,{xAxisPosY:B,yAxisPosX:r+a.barValueSpacing+(D+a.barDatasetSpacing/2+a.barStrokeWidth)*
G/2,valueHop:u,scaleHop:w,nbValueHop:c.labels.length,zeroY:q,calculatedScale:A,logarithmic:a.logarithmic});else for(1<=e&&(lgtxt="string"==typeof c.datasets[l].title?c.datasets[l].title.trim():""),m=0;m<c.datasets[l].data.length;m++){f=animationCorrection(e,c,a,l,m,1).animVal;1<f&&--f;var v=r+a.barValueSpacing+u*m+D*l+a.barDatasetSpacing*l+a.barStrokeWidth*l,E=f*(g(a.logarithmic,1*c.datasets[l].data[m],A,w)-q)+a.barStrokeWidth/2;b.fillStyle=a.defaultFillColor;"function"==typeof c.datasets[l].fillColor?
b.fillStyle=c.datasets[l].fillColor("FILLCOLOR",c,a,l,m,f,1*c.datasets[l].data[m],"Bar",b,v,B-q,v+D,B-q-E):"string"==typeof c.datasets[l].fillColor?b.fillStyle=c.datasets[l].fillColor:"object"==typeof c.datasets[l].fillColor&&"string"==typeof c.datasets[l].fillColor[0]&&(b.fillStyle=c.datasets[l].fillColor[I([c.datasets[l].fillColor.length-1,m])]);b.strokeStyle=a.defaultStrokeColor;"function"==typeof c.datasets[l].strokeColor?b.strokeStyle=c.datasets[l].strokeColor("STROKECOLOR",c,a,l,m,CurrentAnimPc,
1*c.datasets[l].data[m],"Bar",b,v,B-q-E,v+D,B-q):"string"==typeof c.datasets[l].strokeColor?b.strokeStyle=c.datasets[l].strokeColor:"object"==typeof c.datasets[l].strokeColor&&"string"==typeof c.datasets[l].strokeColor[0]&&(b.strokeStyle=c.datasets[l].strokeColor[I([c.datasets[l].strokeColor.length-1,m])]);if("undefined"!=typeof c.datasets[l].data[m]){f=b;k=v;p=B-q;var F=D,H=a.barShowStroke,J=a.barBorderRadius;f.beginPath();f.moveTo(k+J,p);f.lineTo(k+F-J,p);f.quadraticCurveTo(k+F,p,k+F,p);f.lineTo(k+
F,p-E+J);f.quadraticCurveTo(k+F,p-E,k+F-J,p-E);f.lineTo(k+J,p-E);f.quadraticCurveTo(k,p-E,k,p-E+J);f.lineTo(k,p);f.quadraticCurveTo(k,p,k+J,p);H&&f.stroke();f.closePath();f.fill();s[m]+=1*c.datasets[l].data[m];1<=e&&(lgtxt2="string"==typeof c.labels[m]?c.labels[m].trim():"",f=B-q,k=B-g(a.logarithmic,1*c.datasets[l].data[m],A,w)+a.barStrokeWidth/2,f<k&&(p=f,f=k,k=p),jsGraphAnnotate[b.ChartNewId][jsGraphAnnotate[b.ChartNewId].length]=["RECT",v,f,v+D,k,lgtxt,lgtxt2,1*c.datasets[l].data[m],s[m],n[m],
l,m])}}if(1<=e&&a.inGraphDataShow){for(l=0;l<c.datasets.length;l++)for(m=0;m<c.datasets[l].data.length;m++)s[m]=0;for(l=0;l<c.datasets.length;l++)for(lgtxt="string"==typeof c.datasets[l].title?c.datasets[l].title.trim():"",m=0;m<c.datasets[l].data.length;m++)"Line"!=c.datasets[l].type&&"undefined"!=typeof c.datasets[l].data[m]&&("string"==typeof c.labels[m]&&(lgtxt2=c.labels[m].trim()),b.save(),b.textAlign=a.inGraphDataAlign,b.textBaseline=a.inGraphDataVAlign,b.font=a.inGraphDataFontStyle+" "+a.inGraphDataFontSize+
"px "+a.inGraphDataFontFamily,b.fillStyle=a.inGraphDataFontColor,v=r+a.barValueSpacing+u*m+D*l+a.barDatasetSpacing*l+a.barStrokeWidth*l,f=B-q,k=B-g(a.logarithmic,1*c.datasets[l].data[m],A,w)+a.barStrokeWidth/2,b.beginPath(),F=p=0,1==a.inGraphDataXPosition?F=v+a.inGraphDataPaddingX:2==a.inGraphDataXPosition?F=v+D/2+a.inGraphDataPaddingX:3==a.inGraphDataXPosition&&(F=v+D+a.inGraphDataPaddingX),1==a.inGraphDataYPosition?p=B-q-a.inGraphDataPaddingY:2==a.inGraphDataYPosition?p=B-(g(a.logarithmic,1*c.datasets[l].data[m],
A,w)+a.barStrokeWidth/2)/2-a.inGraphDataPaddingY:3==a.inGraphDataYPosition&&(p=B-g(a.logarithmic,1*c.datasets[l].data[m],A,w)+a.barStrokeWidth/2-a.inGraphDataPaddingY),b.translate(F,p),s[m]+=1*c.datasets[l].data[m],v=tmplbis(a.inGraphDataTmpl,{config:a,v1:fmtChartJS(a,lgtxt,a.fmtV1),v2:fmtChartJS(a,lgtxt2,a.fmtV2),v3:fmtChartJS(a,1*c.datasets[l].data[m],a.fmtV3),v4:fmtChartJS(a,s[m],a.fmtV4),v5:fmtChartJS(a,n[m],a.fmtV5),v6:roundToWithThousands(a,fmtChartJS(a,100*c.datasets[l].data[m]/n[m],a.fmtV6),
a.roundPct),v7:fmtChartJS(a,v,a.fmtV7),v8:fmtChartJS(a,f,a.fmtV8),v9:fmtChartJS(a,v+D,a.fmtV9),v10:fmtChartJS(a,k,a.fmtV10),v11:fmtChartJS(a,l,a.fmtV11),v12:fmtChartJS(a,m,a.fmtV12),data:c}),b.rotate(Math.PI/180*a.inGraphDataRotate),b.fillTextMultiLine(v,0,0,b.textBaseline,a.inGraphDataFontSize),b.restore())}1<=e&&"function"==typeof drawMath&&drawMath(b,a,c,h,{xAxisPosY:B,yAxisPosX:r,valueHop:u,scaleHop:w,zeroY:q,calculatedScale:A,calculateOffset:g,barWidth:D});h.legendMsr.dispLegend&&drawLegend(h.legendMsr,
c,a,b,"Bar")}function e(){b.lineWidth=a.scaleLineWidth;b.strokeStyle=a.scaleLineColor;b.beginPath();b.moveTo(r-a.scaleTickSizeLeft,B);b.lineTo(r+h.availableWidth+a.scaleTickSizeRight,B);b.stroke();for(var d=0;d<c.labels.length;d++)b.beginPath(),b.moveTo(r+d*u,B+a.scaleTickSizeBottom),b.lineWidth=a.scaleGridLineWidth,b.strokeStyle=a.scaleGridLineColor,a.scaleShowGridLines&&0<d&&0==d%a.scaleXGridLinesStep?b.lineTo(r+d*u,B-h.availableHeight-a.scaleTickSizeTop):b.lineTo(r+d*u,B),b.stroke();b.lineWidth=
a.scaleLineWidth;b.strokeStyle=a.scaleLineColor;b.beginPath();b.moveTo(r,B+a.scaleTickSizeBottom);b.lineTo(r,B-h.availableHeight-a.scaleTickSizeTop);b.stroke();for(d=0;d<A.steps;d++)b.beginPath(),b.moveTo(r-a.scaleTickSizeLeft,B-(d+1)*w),b.lineWidth=a.scaleGridLineWidth,b.strokeStyle=a.scaleGridLineColor,a.scaleShowGridLines&&0==d%a.scaleYGridLinesStep?b.lineTo(r+h.availableWidth+a.scaleTickSizeRight,B-(d+1)*w):b.lineTo(r,B-(d+1)*w),b.stroke()}function n(){b.font=a.scaleFontStyle+" "+a.scaleFontSize+
"px "+a.scaleFontFamily;if(a.xAxisTop||a.xAxisBottom)if(b.textBaseline="top",90<h.rotateLabels?(b.save(),b.textAlign="left"):0<h.rotateLabels?(b.save(),b.textAlign="right"):b.textAlign="center",b.fillStyle=a.scaleFontColor,a.xAxisBottom)for(var d=0;d<c.labels.length;d++)b.save(),0<h.rotateLabels?(b.translate(r+d*u+u/2-h.highestXLabel/2,h.xLabelPos),b.rotate(-(Math.PI/180*h.rotateLabels)),b.fillTextMultiLine(fmtChartJS(a,c.labels[d],a.fmtXLabel),0,0,b.textBaseline,a.scaleFontSize)):b.fillTextMultiLine(fmtChartJS(a,
c.labels[d],a.fmtXLabel),r+d*u+u/2,h.xLabelPos,b.textBaseline,a.scaleFontSize),b.restore();b.textAlign="right";b.textBaseline="middle";for(d=a.showYAxisMin?-1:0;d<A.steps;d++)a.scaleShowLabels&&(a.yAxisLeft&&(b.textAlign="right",b.fillTextMultiLine(A.labels[d+1],r-(a.scaleTickSizeLeft+a.yAxisSpaceRight),B-(d+1)*w,b.textBaseline,a.scaleFontSize)),a.yAxisRight&&(b.textAlign="left",b.fillTextMultiLine(A.labels[d+1],r+h.availableWidth+(a.scaleTickSizeRight+a.yAxisSpaceRight),B-(d+1)*w,b.textBaseline,
a.scaleFontSize)))}function M(){for(var b=Number.MIN_VALUE,d=Number.MAX_VALUE,e=0;e<c.datasets.length;e++){var f=c.datasets[e].drawMathDeviation,g=0;"function"==typeof eval(f)&&(g=window[f]({data:c,datasetNr:e}));for(f=0;f<c.datasets[e].data.length;f++)1*c.datasets[e].data[f]+g>b&&(b=1*c.datasets[e].data[f]+g),1*c.datasets[e].data[f]-g<d&&(d=1*c.datasets[e].data[f]-g)}1E-8>Math.abs(b-d)&&(b=V([2*b,1]),d=0);isNaN(a.graphMin)||(d=a.graphMin);isNaN(a.graphMax)||(b=a.graphMax);v=a.scaleFontSize;E=h.availableHeight;
return{maxValue:b,minValue:d,maxSteps:Math.floor(E/(.66*v)),minSteps:Math.floor(E/v*.5)}}var w,A,v,E,F,m,u,r,B,D,h,C=[];b.tpchart="Bar";f(b);if(dynamicFunction(c,a,b)){if(a.responsive&&"undefined"==typeof b.firstPass)if(a.multiGraph)b.firstPass=1;else{addResponsiveChart(b.ChartNewId,b,c,a);subUpdateChart(b,c,a);return}var G=c.datasets.length;m=0;var p=[],s=[];for(F=0;F<c.datasets.length;F++)"Line"==c.datasets[F].type?(m++,p.push(F)):s.push(F);var k=0;for(F=c.datasets.length-1;0<=F;F--)if(0<=p.indexOf(F)){k++;
for(var l=F;l<c.datasets.length-k;l++)s=c.datasets[l+1],c.datasets[l+1]=c.datasets[l],c.datasets[l]=s}G-=m;"undefined"==typeof jsGraphAnnotate[b.ChartNewId]?jsGraphAnnotate[b.ChartNewId]=[]:a.multiGraph||clearAnnotate(b.ChartNewId);Z(b,c,a);Y(b,a);h=R(c,a,b,T,O,"nihil",[""],!0,!1,!0,!0,!0,"Bar");F=M();if(0<F.maxSteps&&0<F.minSteps){!1!==a.logarithmic&&0>=F.minValue&&(a.logarithmic=!1);m=L(Math.pow(10,L(F.maxValue)+1))-L(Math.pow(10,L(F.minValue)));if("fuzzy"==a.logarithmic&&4>m||a.scaleOverride)a.logarithmic=
!1;m=a.scaleShowLabels?a.scaleLabel:"";a.scaleOverride?(A={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,graphMax:a.scaleStartValue+a.scaleSteps*a.scaleStepWidth,labels:[]},Q(1,a,m,A.labels,A.steps,a.scaleStartValue,A.graphMax,a.scaleStepWidth)):A=J(1,a,F.maxSteps,F.minSteps,F.maxValue,F.minValue,m);h=R(c,a,b,T,O,A.labels,null,!0,!1,!0,!0,!0,"Bar");m=h.availableHeight;h.availableHeight=h.availableHeight-a.scaleTickSizeBottom-a.scaleTickSizeTop;h.availableWidth=h.availableWidth-
a.scaleTickSizeLeft-a.scaleTickSizeRight;w=Math.floor(h.availableHeight/A.steps);u=Math.floor(h.availableWidth/c.labels.length);if(0==u||a.fullWidthGraph)u=h.availableWidth/c.labels.length;h.clrwidth-=h.availableWidth-c.labels.length*u;h.availableWidth=c.labels.length*u;h.availableHeight=A.steps*w;h.xLabelPos+=a.scaleTickSizeBottom+a.scaleTickSizeTop-(m-h.availableHeight);h.clrheight+=a.scaleTickSizeBottom+a.scaleTickSizeTop-(m-h.availableHeight);r=h.leftNotUsableSize+a.scaleTickSizeLeft;B=h.topNotUsableSize+
h.availableHeight+a.scaleTickSizeTop;D=(u-2*a.scaleGridLineWidth-2*a.barValueSpacing-(a.barDatasetSpacing*G-1)-(a.barStrokeWidth/2*G-1))/G;0<=D&&1>=D&&(D=1);0>D&&-1<=D&&(D=-1);var q=0;0>F.minValue&&(q=g(a.logarithmic,0,A,w));for(F=0;F<c.datasets.length;F++)for(C[F]=[],m=0;m<c.datasets[F].data.length;m++)C[F][m]=g(a.logarithmic,c.datasets[F].data[m],A,w)-q;n();H(a,e,d,b,h.clrx,h.clry,h.clrwidth,h.clrheight,r+h.availableWidth/2,B-h.availableHeight/2,r,B,c)}else testRedraw(b,c,a)}else a.responsive&&
"undefined"==typeof b.firstPass&&(a.multiGraph||addResponsiveChart(b.ChartNewId,b,c,a))},ua=function(c,a,b){function d(e){for(var f=[],m=[],k=0;k<c.datasets.length;k++)for(var l=0;l<c.datasets[k].data.length;l++)f[l]=0,m[l]=0;for(k=0;k<c.datasets.length;k++)for(l=0;l<c.datasets[k].data.length;l++)"undefined"!=typeof c.datasets[k].data[l]&&(m[l]+=1*c.datasets[k].data[l]);b.lineWidth=a.barStrokeWidth;for(k=0;k<c.datasets.length;k++)for(1<=e&&(lgtxt="string"==typeof c.datasets[k].title?c.datasets[k].title.trim():
""),l=0;l<c.datasets[k].data.length;l++){var q=animationCorrection(e,c,a,k,l,1).animVal;1<q&&--q;var n=B+a.barValueSpacing-w*(l+1)+D*k+a.barDatasetSpacing*k+a.barStrokeWidth*k,v=q*(g(a.logarithmic,1*c.datasets[k].data[l],A,u)-C)+a.barStrokeWidth/2;b.fillStyle=a.defaultFillColor;"function"==typeof c.datasets[k].fillColor?b.fillStyle=c.datasets[k].fillColor("FILLCOLOR",c,a,k,l,q,1*c.datasets[k].data[l],"HorizontalBar",b,r+C,n,r+C+v,n+D):"string"==typeof c.datasets[k].fillColor?b.fillStyle=c.datasets[k].fillColor:
"object"==typeof c.datasets[k].fillColor&&"string"==typeof c.datasets[k].fillColor[0]&&(b.fillStyle=c.datasets[k].fillColor[I([c.datasets[k].fillColor.length-1,l])]);b.strokeStyle=a.defaultStrokeColor;"function"==typeof c.datasets[k].strokeColor?b.strokeStyle=c.datasets[k].strokeColor("STROKECOLOR",c,a,k,l,q,1*c.datasets[k].data[l],"HorizontalBar",b,r,n,r+v,n+D):"string"==typeof c.datasets[k].strokeColor?b.strokeStyle=c.datasets[k].strokeColor:"object"==typeof c.datasets[k].strokeColor&&"string"==
typeof c.datasets[k].strokeColor[0]&&(b.strokeStyle=c.datasets[k].strokeColor[I([c.datasets[k].strokeColor.length-1,l])]);if("undefined"!=typeof c.datasets[k].data[l]){var q=b,E=n,F=r+C,H=D,K=a.barShowStroke,J=a.barBorderRadius;q.beginPath();q.moveTo(F+0,E+J);q.lineTo(F+0,E+H-J);q.quadraticCurveTo(F+0,E+H,F+0,E+H);q.lineTo(F+v-J,E+H);q.quadraticCurveTo(F+v,E+H,F+v,E+H-J);q.lineTo(F+v,E+J);q.quadraticCurveTo(F+v,E,F+v-J,E);q.lineTo(F+0,E);q.quadraticCurveTo(F+0,E,F+0,E+J);K&&q.stroke();q.closePath();
q.fill();f[l]+=1*c.datasets[k].data[l];1<=e&&(lgtxt2="string"==typeof c.labels[l]?c.labels[l].trim():"",t1=r+C,t2=r+g(a.logarithmic,1*c.datasets[k].data[l],A,u)+a.barStrokeWidth/2,t1>t2&&(t3=t1,t1=t2,t2=t3),jsGraphAnnotate[b.ChartNewId][jsGraphAnnotate[b.ChartNewId].length]=["RECT",t1,n+D,t2,n,lgtxt,lgtxt2,1*c.datasets[k].data[l],f[l],m[l],k,l])}}if(1<=e&&a.inGraphDataShow){for(k=0;k<c.datasets.length;k++)for(l=0;l<c.datasets[k].data.length;l++)f[l]=0;for(k=0;k<c.datasets.length;k++)for(lgtxt="string"==
typeof c.datasets[k].title?c.datasets[k].title.trim():"",l=0;l<c.datasets[k].data.length;l++)"undefined"!=typeof c.datasets[k].data[l]&&("string"==typeof c.labels[l]&&(lgtxt2=c.labels[l].trim()),b.save(),b.textAlign=a.inGraphDataAlign,b.textBaseline=a.inGraphDataVAlign,b.font=a.inGraphDataFontStyle+" "+a.inGraphDataFontSize+"px "+a.inGraphDataFontFamily,b.fillStyle=a.inGraphDataFontColor,n=B+a.barValueSpacing-w*(l+1)+D*k+a.barDatasetSpacing*k+a.barStrokeWidth*k,t1=r+C,t2=r+g(a.logarithmic,1*c.datasets[k].data[l],
A,u)+a.barStrokeWidth/2,t1>t2&&(t3=t1,t1=t2,t2=t3),b.beginPath(),q=e=0,1==a.inGraphDataYPosition?e=n-a.inGraphDataPaddingY+D:2==a.inGraphDataYPosition?e=n+D/2-a.inGraphDataPaddingY:3==a.inGraphDataYPosition&&(e=n-a.inGraphDataPaddingY),1==a.inGraphDataXPosition?q=r+C+a.inGraphDataPaddingX:2==a.inGraphDataXPosition?q=r+(g(a.logarithmic,1*c.datasets[k].data[l],A,u)+a.barStrokeWidth/2)/2+a.inGraphDataPaddingX:3==a.inGraphDataXPosition&&(q=r+g(a.logarithmic,1*c.datasets[k].data[l],A,u)+a.barStrokeWidth/
2+a.inGraphDataPaddingX),b.translate(q,e),f[l]+=1*c.datasets[k].data[l],n=tmplbis(a.inGraphDataTmpl,{config:a,v1:fmtChartJS(a,lgtxt,a.fmtV1),v2:fmtChartJS(a,lgtxt2,a.fmtV2),v3:fmtChartJS(a,1*c.datasets[k].data[l],a.fmtV3),v4:fmtChartJS(a,f[l],a.fmtV4),v5:fmtChartJS(a,m[l],a.fmtV5),v6:roundToWithThousands(a,fmtChartJS(a,100*c.datasets[k].data[l]/m[l],a.fmtV6),a.roundPct),v7:fmtChartJS(a,t1,a.fmtV7),v8:fmtChartJS(a,n+D,a.fmtV8),v9:fmtChartJS(a,t2,a.fmtV9),v10:fmtChartJS(a,n,a.fmtV10),v11:fmtChartJS(a,
k,a.fmtV11),v12:fmtChartJS(a,l,a.fmtV12),data:c}),b.rotate(Math.PI/180*a.inGraphDataRotate),b.fillTextMultiLine(n,0,0,b.textBaseline,a.inGraphDataFontSize),b.restore())}h.legendMsr.dispLegend&&drawLegend(h.legendMsr,c,a,b,"HorizontalBar")}function n(){b.lineWidth=a.scaleLineWidth;b.strokeStyle=a.scaleLineColor;b.beginPath();b.moveTo(r-a.scaleTickSizeLeft,B);b.lineTo(r+h.availableWidth+a.scaleTickSizeRight,B);b.stroke();for(var d=a.showYAxisMin?-1:0;d<A.steps;d++)0<=d&&(b.beginPath(),b.moveTo(r+d*
u,B+a.scaleTickSizeBottom),b.lineWidth=a.scaleGridLineWidth,b.strokeStyle=a.scaleGridLineColor,a.scaleShowGridLines&&0<d&&0==d%a.scaleXGridLinesStep?b.lineTo(r+d*u,B-h.availableHeight-a.scaleTickSizeTop):b.lineTo(r+d*u,B),b.stroke());b.lineWidth=a.scaleLineWidth;b.strokeStyle=a.scaleLineColor;b.beginPath();b.moveTo(r,B+a.scaleTickSizeBottom);b.lineTo(r,B-h.availableHeight-a.scaleTickSizeTop);b.stroke();for(d=0;d<c.labels.length;d++)b.beginPath(),b.moveTo(r-a.scaleTickSizeLeft,B-(d+1)*w),b.lineWidth=
a.scaleGridLineWidth,b.strokeStyle=a.scaleGridLineColor,a.scaleShowGridLines&&0==d%a.scaleYGridLinesStep?b.lineTo(r+h.availableWidth+a.scaleTickSizeRight,B-(d+1)*w):b.lineTo(r,B-(d+1)*w),b.stroke()}function K(){b.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily;if(a.scaleShowLabels&&(a.xAxisTop||a.xAxisBottom)&&(b.textBaseline="top",90<h.rotateLabels?(b.save(),b.textAlign="left"):0<h.rotateLabels?(b.save(),b.textAlign="right"):b.textAlign="center",b.fillStyle=a.scaleFontColor,a.xAxisBottom))for(var d=
a.showYAxisMin?-1:0;d<A.steps;d++)b.save(),0<h.rotateLabels?(b.translate(r+(d+1)*u-h.highestXLabel/2,h.xLabelPos),b.rotate(-(Math.PI/180*h.rotateLabels)),b.fillTextMultiLine(A.labels[d+1],0,0,b.textBaseline,a.scaleFontSize)):b.fillTextMultiLine(A.labels[d+1],r+(d+1)*u,h.xLabelPos,b.textBaseline,a.scaleFontSize),b.restore();b.textAlign="right";b.textBaseline="middle";for(d=0;d<c.labels.length;d++)a.yAxisLeft&&(b.textAlign="right",b.fillTextMultiLine(fmtChartJS(a,c.labels[d],a.fmtXLabel),r-(a.scaleTickSizeLeft+
a.yAxisSpaceRight),B-d*w-w/2,b.textBaseline,a.scaleFontSize)),a.yAxisRight&&(b.textAlign="left",b.fillTextMultiLine(fmtChartJS(a,c.labels[d],a.fmtXLabel),r+h.availableWidth+(a.scaleTickSizeRight+a.yAxisSpaceRight),B-d*w-w/2,b.textBaseline,a.scaleFontSize))}function L(){for(var b=Number.MIN_VALUE,d=Number.MAX_VALUE,e=0;e<c.datasets.length;e++)for(var f=0;f<c.datasets[e].data.length;f++)1*c.datasets[e].data[f]>b&&(b=1*c.datasets[e].data[f]),1*c.datasets[e].data[f]<d&&(d=1*c.datasets[e].data[f]);1E-8>
Math.abs(b-d)&&(b=V([2*b,1]),d=0);isNaN(a.graphMin)||(d=a.graphMin);isNaN(a.graphMax)||(b=a.graphMax);v=a.scaleFontSize;E=h.availableHeight;return{maxValue:b,minValue:d,maxSteps:Math.floor(E/(.66*v)),minSteps:Math.floor(E/v*.5)}}var w,A,v,E,F,m,u,r,B,D,h;b.tpchart="HorizontalBar";f(b);if(dynamicFunction(c,a,b)){if(a.responsive&&"undefined"==typeof b.firstPass)if(a.multiGraph)b.firstPass=1;else{addResponsiveChart(b.ChartNewId,b,c,a);subUpdateChart(b,c,a);return}a.reverseOrder&&"undefined"==typeof b.reversed&&
(b.reversed=!0,c=e(c));"undefined"==typeof jsGraphAnnotate[b.ChartNewId]?jsGraphAnnotate[b.ChartNewId]=[]:a.multiGraph||clearAnnotate(b.ChartNewId);Z(b,c,a);Y(b,a);h=R(c,a,b,T,O,"nihil",[""],!0,!0,!0,!0,!0,"StackedBar");F=L();if(0<F.maxSteps&&0<F.minSteps){m=a.scaleShowLabels?a.scaleLabel:"";a.scaleOverride?(A={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,graphMax:a.scaleStartValue+a.scaleSteps*a.scaleStepWidth,labels:[]},Q(1,a,m,A.labels,A.steps,a.scaleStartValue,A.graphMax,
a.scaleStepWidth)):A=J(1,a,F.maxSteps,F.minSteps,F.maxValue,F.minValue,m);h=R(c,a,b,T,O,A.labels,null,!0,!0,!0,!0,!0,"HorizontalBar");h.availableHeight=h.availableHeight-a.scaleTickSizeBottom-a.scaleTickSizeTop;h.availableWidth=h.availableWidth-a.scaleTickSizeLeft-a.scaleTickSizeRight;w=Math.floor(h.availableHeight/c.labels.length);u=Math.floor(h.availableWidth/A.steps);if(0==u||a.fullWidthGraph)u=h.availableWidth/A.steps;h.clrwidth-=h.availableWidth-A.steps*u;h.availableWidth=A.steps*u;h.availableHeight=
c.labels.length*w;r=h.leftNotUsableSize+a.scaleTickSizeLeft;B=h.topNotUsableSize+h.availableHeight+a.scaleTickSizeTop;D=(w-2*a.scaleGridLineWidth-2*a.barValueSpacing-(a.barDatasetSpacing*c.datasets.length-1)-(a.barStrokeWidth/2*c.datasets.length-1))/c.datasets.length;0<=D&&1>=D&&(D=1);0>D&&-1<=D&&(D=-1);var C=0;0>F.minValue&&(C=g(a.logarithmic,0,A,u));K();H(a,n,d,b,h.clrx,h.clry,h.clrwidth,h.clrheight,r+h.availableWidth/2,B-h.availableHeight/2,r,B,c)}else testRedraw(b,c,a)}else a.responsive&&"undefined"==
typeof b.firstPass&&(a.multiGraph||addResponsiveChart(b.ChartNewId,b,c,a))},ia=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1E3/60)}}(),la={}};
function animationCorrection(d,f,e,g,H,J){var M=d,L=0;if(-1!=H){1>M&&g<e.animationStartWithDataset-1&&-1!=e.animationStartWithDataset-1&&(M=1);1>M&&H<e.animationStartWithData-1&&-1!=e.animationStartWithData-1&&(M=1);var Q=1,V=d;if(1>M&&e.animationByDataset){var Q=M=0,I=e.animationStartWithDataset-1;-1==e.animationStartWithDataset-1&&(I=0);var $=e.animationSteps/(f.datasets.length-I);d>=(g-I+1)*$/e.animationSteps?M=1:d>=(g-I)*$/e.animationSteps&&(d-=(g-I)*$/e.animationSteps,e.animationLeftToRight?
V=d*(f.datasets.length-I):M=d*(f.datasets.length-I),Q=1)}1==Q&&1>M&&e.animationLeftToRight&&(M=0,I=e.animationStartWithData-1,-1==e.animationStartWithData-1&&(I=0),J=e.animationSteps/(f.datasets[g].data.length-I-1+J),V>=(H-I)*J/e.animationSteps&&(M=1,V<=(H+1-I)*J/e.animationSteps&&(L=(f.datasets[g].data.length-I-1)*(V-(H-I)*J/e.animationSteps))))}else 1>M&&g<e.animationStartWithData-1&&(M=1);return{mainVal:M,subVal:L,animVal:M+L}}
function drawLegend(d,f,e,g,H){1==e.legendBorders&&(g.save(),g.beginPath(),g.lineWidth=e.legendBordersWidth,g.strokeStyle=e.legendBordersColors,g.moveTo(d.xLegendBorderPos,d.yLegendBorderPos),g.lineTo(d.xLegendBorderPos,d.yLegendBorderPos+d.legendBorderHeight),g.lineTo(d.xLegendBorderPos+d.legendBorderWidth,d.yLegendBorderPos+d.legendBorderHeight),g.lineTo(d.xLegendBorderPos+d.legendBorderWidth,d.yLegendBorderPos),g.lineTo(d.xLegendBorderPos,d.yLegendBorderPos),g.lineTo(d.xLegendBorderPos+d.legendBorderWidth,
d.yLegendBorderPos),g.lineTo(d.xLegendBorderPos,d.yLegendBorderPos),g.lineTo(d.xLegendBorderPos,d.yLegendBorderPos+d.legendBorderHeight),g.stroke(),g.closePath(),g.fillStyle="rgba(0,0,0,0)",g.fillStyle=e.legendFillColor,g.fill(),g.restore());nbcols=d.nbLegendCols-1;ypos=d.yFirstLegendTextPos-(e.legendFontSize+e.legendSpaceBetweenTextVertical);xpos=0;fromi=d.drawLegendOnData?f.datasets.length:f.length;for(var J=fromi-1;0<=J;J--)orderi=J,d.reverseLegend&&(orderi=d.drawLegendOnData?f.datasets.length-
J-1:f.length-J-1),tpof=d.drawLegendOnData?typeof f.datasets[orderi].title:typeof f[orderi].title,"string"==tpof&&(lgtxt=d.drawLegendOnData?fmtChartJS(e,f.datasets[orderi].title,e.fmtLegend).trim():fmtChartJS(e,f[orderi].title,e.fmtLegend).trim(),""!=lgtxt&&(nbcols++,nbcols==d.nbLegendCols?(nbcols=0,xpos=d.xFirstLegendTextPos,ypos+=e.legendFontSize+e.legendSpaceBetweenTextVertical):xpos+=d.widestLegend+e.legendSpaceBetweenTextHorizontal,g.save(),g.beginPath(),g.strokeStyle=d.drawLegendOnData?"function"==
typeof f.datasets[orderi].strokeColor?f.datasets[orderi].strokeColor("STROKECOLOR",f,e,orderi,-1,1,-1,H,g,-1,-1,-1,-1):"string"==typeof f.datasets[orderi].strokeColor?f.datasets[orderi].strokeColor:e.defaultStrokeColor:"function"==typeof f[orderi].color?f[orderi].color("COLOR",f,e,orderi,-1,1,f[orderi].value,H,g,1,1,1,1):"string"==typeof f[orderi].color?f[orderi].color:e.defaultStrokeColor,d.legendBox?(g.lineWidth=1,g.moveTo(xpos,ypos),g.lineTo(xpos+e.legendBlockSize,ypos),g.lineTo(xpos+e.legendBlockSize,
ypos-e.legendFontSize),g.lineTo(xpos,ypos-e.legendFontSize),g.lineTo(xpos,ypos),g.closePath(),g.fillStyle=d.drawLegendOnData?"function"==typeof f.datasets[orderi].fillColor?f.datasets[orderi].fillColor("LEGENDFILLCOLOR",f,e,orderi,-1,1,-1,H,g,xpos,ypos,xpos+e.legendBlockSize,ypos-e.legendFontSize):"string"==typeof f.datasets[orderi].fillColor?f.datasets[orderi].fillColor:e.defaultFillColor:"function"==typeof f[orderi].color?f[orderi].color("LEGENDFILLCOLOR",f,e,orderi,-1,1,-1,H,g,xpos,ypos-e.legendFontSize,
xpos+e.legendBlockSize,ypos):"string"==typeof f[orderi].color?f[orderi].color:e.defaultFillColor,g.fill()):(g.lineWidth=e.legendColorIndicatorStrokeWidth?e.legendColorIndicatorStrokeWidth:e.datasetStrokeWidth,e.legendColorIndicatorStrokeWidth&&e.legendColorIndicatorStrokeWidth>e.legendFontSize&&(g.lineWidth=e.legendFontSize),g.moveTo(xpos+2,ypos-e.legendFontSize/2),g.lineTo(xpos+2+e.legendBlockSize,ypos-e.legendFontSize/2)),g.stroke(),g.restore(),g.save(),g.beginPath(),g.font=e.legendFontStyle+" "+
e.legendFontSize+"px "+e.legendFontFamily,g.fillStyle=e.legendFontColor,g.textAlign="left",g.textBaseline="bottom",g.translate(xpos+e.legendBlockSize+e.legendSpaceBetweenBoxAndText,ypos),g.fillText(lgtxt,0,0),g.stroke(),g.restore()))};
